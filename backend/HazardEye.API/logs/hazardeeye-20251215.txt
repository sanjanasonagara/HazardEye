2025-12-15 14:33:17.836 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-12-15 14:33:17.899 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-12-15 14:33:18.125 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 14:33:18.254 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-12-15 14:33:18.259 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 14:33:18.268 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-12-15 14:33:18.301 +05:30 [INF] User profile is available. Using 'C:\Users\sanja\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-15 14:33:18.519 +05:30 [ERR] Failed executing DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."AssignedToUserId", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."CreatedByUserId", i."DeviceId", i."IncidentId", i."MediaUris", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN (2, 3) AND i."Status" = 0 AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 14:33:18.529 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'HazardEye.API.Data.HazardEyeDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 287
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 287
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 287
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 287
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
2025-12-15 14:33:18.537 +05:30 [INF] Now listening on: http://localhost:5000
2025-12-15 14:33:18.540 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 14:33:18.540 +05:30 [ERR] Error in notification worker
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 287
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HazardEye.API.Services.NotificationWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\sanja\OneDrive\Desktop\Coding\Web Dev\Projects\Hazard-Eye\backend\hazardeye.api\Services\NotificationWorker.cs:line 28
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 287
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
2025-12-15 14:33:18.541 +05:30 [INF] Hosting environment: Production
2025-12-15 14:33:18.566 +05:30 [INF] Content root path: C:\Users\sanja\OneDrive\Desktop\Coding\Web Dev\Projects\Hazard-Eye\backend\hazardeye.api
2025-12-15 14:38:18.651 +05:30 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."AssignedToUserId", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."CreatedByUserId", i."DeviceId", i."IncidentId", i."MediaUris", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN (2, 3) AND i."Status" = 0 AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 14:38:18.653 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'HazardEye.API.Data.HazardEyeDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 287
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 287
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 287
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 287
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
2025-12-15 14:38:18.658 +05:30 [ERR] Error in notification worker
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 287
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HazardEye.API.Services.NotificationWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\sanja\OneDrive\Desktop\Coding\Web Dev\Projects\Hazard-Eye\backend\hazardeye.api\Services\NotificationWorker.cs:line 28
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 287
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
2025-12-15 14:43:18.678 +05:30 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."AssignedToUserId", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."CreatedByUserId", i."DeviceId", i."IncidentId", i."MediaUris", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN (2, 3) AND i."Status" = 0 AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 14:43:18.683 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'HazardEye.API.Data.HazardEyeDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 287
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 287
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 287
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 287
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
2025-12-15 14:43:18.691 +05:30 [ERR] Error in notification worker
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 287
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HazardEye.API.Services.NotificationWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\sanja\OneDrive\Desktop\Coding\Web Dev\Projects\Hazard-Eye\backend\hazardeye.api\Services\NotificationWorker.cs:line 28
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 287
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
2025-12-15 14:48:18.741 +05:30 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."AssignedToUserId", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."CreatedByUserId", i."DeviceId", i."IncidentId", i."MediaUris", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN (2, 3) AND i."Status" = 0 AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 14:48:18.744 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'HazardEye.API.Data.HazardEyeDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 287
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 287
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 287
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 287
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
2025-12-15 14:48:18.748 +05:30 [ERR] Error in notification worker
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 287
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HazardEye.API.Services.NotificationWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\sanja\OneDrive\Desktop\Coding\Web Dev\Projects\Hazard-Eye\backend\hazardeye.api\Services\NotificationWorker.cs:line 28
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 287
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
2025-12-15 14:52:46.687 +05:30 [INF] Application is shutting down...
2025-12-15 14:53:15.309 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-12-15 14:53:15.349 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 14:53:15.382 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-12-15 14:53:15.409 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-12-15 14:53:15.412 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 14:53:15.418 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-12-15 14:53:15.430 +05:30 [INF] User profile is available. Using 'C:\Users\sanja\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-15 14:53:15.596 +05:30 [ERR] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 14:53:15.607 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'HazardEye.API.Data.HazardEyeDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 260
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 260
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 260
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 260
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
2025-12-15 14:53:15.615 +05:30 [INF] Now listening on: http://localhost:5000
2025-12-15 14:53:15.615 +05:30 [ERR] Error in notification worker
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 260
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HazardEye.API.Services.NotificationWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\sanja\OneDrive\Desktop\Coding\Web Dev\Projects\Hazard-Eye\backend\hazardeye.api\Services\NotificationWorker.cs:line 28
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 260
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
2025-12-15 14:53:15.615 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 14:53:15.638 +05:30 [INF] Hosting environment: Production
2025-12-15 14:53:15.638 +05:30 [INF] Content root path: C:\Users\sanja\OneDrive\Desktop\Coding\Web Dev\Projects\Hazard-Eye\backend\hazardeye.api
2025-12-15 14:53:24.079 +05:30 [INF] Application is shutting down...
2025-12-15 14:53:36.040 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-12-15 14:53:36.080 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 14:53:36.114 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-12-15 14:53:36.144 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-12-15 14:53:36.146 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 14:53:36.152 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-12-15 14:53:36.166 +05:30 [INF] User profile is available. Using 'C:\Users\sanja\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-15 14:53:36.327 +05:30 [ERR] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 14:53:36.338 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'HazardEye.API.Data.HazardEyeDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 260
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 260
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 260
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 260
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
2025-12-15 14:53:36.344 +05:30 [INF] Now listening on: http://localhost:5000
2025-12-15 14:53:36.347 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 14:53:36.348 +05:30 [ERR] Error in notification worker
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 260
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HazardEye.API.Services.NotificationWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\sanja\OneDrive\Desktop\Coding\Web Dev\Projects\Hazard-Eye\backend\hazardeye.api\Services\NotificationWorker.cs:line 28
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 260
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
2025-12-15 14:53:36.348 +05:30 [INF] Hosting environment: Production
2025-12-15 14:53:36.354 +05:30 [INF] Content root path: C:\Users\sanja\OneDrive\Desktop\Coding\Web Dev\Projects\Hazard-Eye\backend\hazardeye.api
2025-12-15 14:57:47.354 +05:30 [INF] Application is shutting down...
2025-12-15 14:58:15.979 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-12-15 14:58:16.019 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 14:58:16.053 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-12-15 14:58:16.188 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-12-15 14:58:16.191 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 14:58:16.197 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-12-15 14:58:16.209 +05:30 [INF] User profile is available. Using 'C:\Users\sanja\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-15 14:58:16.371 +05:30 [ERR] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 14:58:16.383 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'HazardEye.API.Data.HazardEyeDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 260
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 260
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 260
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 260
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
2025-12-15 14:58:16.390 +05:30 [ERR] Error in notification worker
Npgsql.PostgresException (0x80004005): 42P01: relation "Incidents" does not exist

POSITION: 260
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HazardEye.API.Services.NotificationWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\sanja\OneDrive\Desktop\Coding\Web Dev\Projects\Hazard-Eye\backend\hazardeye.api\Services\NotificationWorker.cs:line 28
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Incidents" does not exist
    Position: 260
    File: parse_relation.c
    Line: 1469
    Routine: parserOpenTable
2025-12-15 14:58:16.391 +05:30 [INF] Now listening on: http://localhost:5000
2025-12-15 14:58:16.416 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 14:58:16.418 +05:30 [INF] Hosting environment: Production
2025-12-15 14:58:16.418 +05:30 [INF] Content root path: C:\Users\sanja\OneDrive\Desktop\Coding\Web Dev\Projects\Hazard-Eye\backend\hazardeye.api
2025-12-15 15:00:20.341 +05:30 [INF] Application is shutting down...
2025-12-15 15:00:41.343 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-12-15 15:00:41.385 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 15:00:41.420 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-12-15 15:00:41.447 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-12-15 15:00:41.449 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 15:00:41.457 +05:30 [INF] Applying migration '20251215093027_InitialSchema'.
2025-12-15 15:00:41.511 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AdvisoryTemplates" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "Template" text NOT NULL,
    "Rules" jsonb NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone,
    CONSTRAINT "PK_AdvisoryTemplates" PRIMARY KEY ("Id")
);
2025-12-15 15:00:41.515 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalRequests" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ActionType" text NOT NULL,
    "EntityType" text NOT NULL,
    "EntityId" integer NOT NULL,
    "RequestedBy" integer NOT NULL,
    "ApprovedBy" integer,
    "Status" text NOT NULL,
    "Reason" text NOT NULL,
    "Metadata" jsonb NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "ResolvedAt" timestamp with time zone,
    CONSTRAINT "PK_ApprovalRequests" PRIMARY KEY ("Id")
);
2025-12-15 15:00:41.519 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Devices" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "DeviceId" text NOT NULL,
    "Model" text NOT NULL,
    "ModelVersion" text,
    "Status" text NOT NULL,
    "RegisteredAt" timestamp with time zone NOT NULL,
    "LastSeen" timestamp with time zone,
    "LastKnownLocation" text,
    "Metadata" jsonb NOT NULL,
    CONSTRAINT "PK_Devices" PRIMARY KEY ("Id")
);
2025-12-15 15:00:41.522 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Models" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Version" text NOT NULL,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "StoragePath" text NOT NULL,
    "Signature" text,
    "Status" text NOT NULL,
    "Metrics" jsonb NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "PublishedAt" timestamp with time zone,
    "CreatedBy" integer NOT NULL,
    "ReleaseNotes" text,
    CONSTRAINT "PK_Models" PRIMARY KEY ("Id")
);
2025-12-15 15:00:41.526 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "SeverityRules" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "Condition" text NOT NULL,
    "Severity" text NOT NULL,
    "Priority" integer NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_SeverityRules" PRIMARY KEY ("Id")
);
2025-12-15 15:00:41.530 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "PasswordHash" text NOT NULL,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Role" text NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "LastLoginAt" timestamp with time zone,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2025-12-15 15:00:41.537 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AuditLogs" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" integer,
    "Action" text NOT NULL,
    "EntityType" text NOT NULL,
    "EntityId" integer,
    "Details" jsonb NOT NULL,
    "IpAddress" text NOT NULL,
    "UserAgent" text NOT NULL,
    "Timestamp" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_AuditLogs" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AuditLogs_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id")
);
2025-12-15 15:00:41.541 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Incidents" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ServerIncidentId" text NOT NULL,
    "DeviceId" text NOT NULL,
    "IncidentId" text,
    "CapturedAt" timestamp with time zone NOT NULL,
    "Severity" text NOT NULL,
    "Category" text NOT NULL,
    "Status" text NOT NULL,
    "AssignedTo" integer,
    "CreatedBy" integer NOT NULL,
    "MediaUris" jsonb NOT NULL,
    "MlMetadata" jsonb NOT NULL,
    "Advisory" text,
    "Note" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    "ResolvedAt" timestamp with time zone,
    "ClosedAt" timestamp with time zone,
    CONSTRAINT "PK_Incidents" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Incidents_Users_AssignedTo" FOREIGN KEY ("AssignedTo") REFERENCES "Users" ("Id") ON DELETE SET NULL,
    CONSTRAINT "FK_Incidents_Users_CreatedBy" FOREIGN KEY ("CreatedBy") REFERENCES "Users" ("Id") ON DELETE RESTRICT
);
2025-12-15 15:00:41.546 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CorrectiveAction" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "IncidentId" integer NOT NULL,
    "Action" text NOT NULL,
    "DueDate" timestamp with time zone NOT NULL,
    "Completed" boolean NOT NULL,
    "CompletedAt" timestamp with time zone,
    "CompletedBy" integer,
    CONSTRAINT "PK_CorrectiveAction" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CorrectiveAction_Incidents_IncidentId" FOREIGN KEY ("IncidentId") REFERENCES "Incidents" ("Id") ON DELETE CASCADE
);
2025-12-15 15:00:41.550 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "IncidentComment" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "IncidentId" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Comment" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_IncidentComment" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_IncidentComment_Incidents_IncidentId" FOREIGN KEY ("IncidentId") REFERENCES "Incidents" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_IncidentComment_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2025-12-15 15:00:41.555 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Tasks" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "IncidentId" integer NOT NULL,
    "AssignedToUserId" integer NOT NULL,
    "Description" text NOT NULL,
    "Status" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "DueDate" timestamp with time zone,
    "CompletedAt" timestamp with time zone,
    CONSTRAINT "PK_Tasks" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Tasks_Incidents_IncidentId" FOREIGN KEY ("IncidentId") REFERENCES "Incidents" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Tasks_Users_AssignedToUserId" FOREIGN KEY ("AssignedToUserId") REFERENCES "Users" ("Id") ON DELETE RESTRICT
);
2025-12-15 15:00:41.559 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AuditLogs_Action" ON "AuditLogs" ("Action");
2025-12-15 15:00:41.562 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AuditLogs_Timestamp" ON "AuditLogs" ("Timestamp");
2025-12-15 15:00:41.564 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AuditLogs_UserId" ON "AuditLogs" ("UserId");
2025-12-15 15:00:41.568 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CorrectiveAction_IncidentId" ON "CorrectiveAction" ("IncidentId");
2025-12-15 15:00:41.570 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Devices_DeviceId" ON "Devices" ("DeviceId");
2025-12-15 15:00:41.573 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_IncidentComment_IncidentId" ON "IncidentComment" ("IncidentId");
2025-12-15 15:00:41.575 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_IncidentComment_UserId" ON "IncidentComment" ("UserId");
2025-12-15 15:00:41.576 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_AssignedTo" ON "Incidents" ("AssignedTo");
2025-12-15 15:00:41.578 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_CapturedAt" ON "Incidents" ("CapturedAt");
2025-12-15 15:00:41.580 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_CreatedBy" ON "Incidents" ("CreatedBy");
2025-12-15 15:00:41.583 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_DeviceId" ON "Incidents" ("DeviceId");
2025-12-15 15:00:41.584 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Incidents_ServerIncidentId" ON "Incidents" ("ServerIncidentId");
2025-12-15 15:00:41.587 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_Severity" ON "Incidents" ("Severity");
2025-12-15 15:00:41.589 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_Status" ON "Incidents" ("Status");
2025-12-15 15:00:41.591 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Models_Version" ON "Models" ("Version");
2025-12-15 15:00:41.592 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Tasks_AssignedToUserId" ON "Tasks" ("AssignedToUserId");
2025-12-15 15:00:41.594 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Tasks_IncidentId" ON "Tasks" ("IncidentId");
2025-12-15 15:00:41.596 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Tasks_Status" ON "Tasks" ("Status");
2025-12-15 15:00:41.598 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Users_Email" ON "Users" ("Email");
2025-12-15 15:00:41.601 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251215093027_InitialSchema', '8.0.0');
2025-12-15 15:00:50.276 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-12-15 15:00:50.319 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 15:00:50.354 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-12-15 15:00:50.381 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-12-15 15:00:50.383 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 15:00:50.391 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-12-15 15:00:50.402 +05:30 [INF] User profile is available. Using 'C:\Users\sanja\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-15 15:00:50.562 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 15:00:50.576 +05:30 [INF] Now listening on: http://localhost:5000
2025-12-15 15:00:50.578 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 15:00:50.579 +05:30 [INF] Hosting environment: Production
2025-12-15 15:00:50.580 +05:30 [INF] Content root path: C:\Users\sanja\OneDrive\Desktop\Coding\Web Dev\Projects\Hazard-Eye\backend\hazardeye.api
2025-12-15 15:01:50.674 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 15:02:50.692 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 15:03:50.710 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 15:04:50.732 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 15:05:50.781 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:11:47.972 +05:30 [ERR] An error occurred using the connection to database 'HazardEye' on server 'tcp://localhost:5432'.
2025-12-15 20:12:25.312 +05:30 [ERR] An error occurred using the connection to database 'HazardEye' on server 'tcp://localhost:5432'.
2025-12-15 20:13:16.958 +05:30 [ERR] Failed executing DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 20:13:17.078 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-15 20:13:17.307 +05:30 [INF] Executed DbCommand (208ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 20:13:17.313 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 20:13:17.316 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 20:13:17.317 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 20:13:17.322 +05:30 [INF] Applying migration '20251215093027_InitialSchema'.
2025-12-15 20:13:17.348 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AdvisoryTemplates" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "Template" text NOT NULL,
    "Rules" jsonb NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone,
    CONSTRAINT "PK_AdvisoryTemplates" PRIMARY KEY ("Id")
);
2025-12-15 20:13:17.354 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalRequests" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ActionType" text NOT NULL,
    "EntityType" text NOT NULL,
    "EntityId" integer NOT NULL,
    "RequestedBy" integer NOT NULL,
    "ApprovedBy" integer,
    "Status" text NOT NULL,
    "Reason" text NOT NULL,
    "Metadata" jsonb NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "ResolvedAt" timestamp with time zone,
    CONSTRAINT "PK_ApprovalRequests" PRIMARY KEY ("Id")
);
2025-12-15 20:13:17.362 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Devices" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "DeviceId" text NOT NULL,
    "Model" text NOT NULL,
    "ModelVersion" text,
    "Status" text NOT NULL,
    "RegisteredAt" timestamp with time zone NOT NULL,
    "LastSeen" timestamp with time zone,
    "LastKnownLocation" text,
    "Metadata" jsonb NOT NULL,
    CONSTRAINT "PK_Devices" PRIMARY KEY ("Id")
);
2025-12-15 20:13:17.370 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Models" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Version" text NOT NULL,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "StoragePath" text NOT NULL,
    "Signature" text,
    "Status" text NOT NULL,
    "Metrics" jsonb NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "PublishedAt" timestamp with time zone,
    "CreatedBy" integer NOT NULL,
    "ReleaseNotes" text,
    CONSTRAINT "PK_Models" PRIMARY KEY ("Id")
);
2025-12-15 20:13:17.378 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "SeverityRules" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "Condition" text NOT NULL,
    "Severity" text NOT NULL,
    "Priority" integer NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_SeverityRules" PRIMARY KEY ("Id")
);
2025-12-15 20:13:17.380 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "PasswordHash" text NOT NULL,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Role" text NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "LastLoginAt" timestamp with time zone,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2025-12-15 20:13:17.386 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AuditLogs" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" integer,
    "Action" text NOT NULL,
    "EntityType" text NOT NULL,
    "EntityId" integer,
    "Details" jsonb NOT NULL,
    "IpAddress" text NOT NULL,
    "UserAgent" text NOT NULL,
    "Timestamp" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_AuditLogs" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AuditLogs_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id")
);
2025-12-15 20:13:17.388 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Incidents" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ServerIncidentId" text NOT NULL,
    "DeviceId" text NOT NULL,
    "IncidentId" text,
    "CapturedAt" timestamp with time zone NOT NULL,
    "Severity" text NOT NULL,
    "Category" text NOT NULL,
    "Status" text NOT NULL,
    "AssignedTo" integer,
    "CreatedBy" integer NOT NULL,
    "MediaUris" jsonb NOT NULL,
    "MlMetadata" jsonb NOT NULL,
    "Advisory" text,
    "Note" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    "ResolvedAt" timestamp with time zone,
    "ClosedAt" timestamp with time zone,
    CONSTRAINT "PK_Incidents" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Incidents_Users_AssignedTo" FOREIGN KEY ("AssignedTo") REFERENCES "Users" ("Id") ON DELETE SET NULL,
    CONSTRAINT "FK_Incidents_Users_CreatedBy" FOREIGN KEY ("CreatedBy") REFERENCES "Users" ("Id") ON DELETE RESTRICT
);
2025-12-15 20:13:17.389 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CorrectiveAction" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "IncidentId" integer NOT NULL,
    "Action" text NOT NULL,
    "DueDate" timestamp with time zone NOT NULL,
    "Completed" boolean NOT NULL,
    "CompletedAt" timestamp with time zone,
    "CompletedBy" integer,
    CONSTRAINT "PK_CorrectiveAction" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CorrectiveAction_Incidents_IncidentId" FOREIGN KEY ("IncidentId") REFERENCES "Incidents" ("Id") ON DELETE CASCADE
);
2025-12-15 20:13:17.394 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "IncidentComment" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "IncidentId" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Comment" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_IncidentComment" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_IncidentComment_Incidents_IncidentId" FOREIGN KEY ("IncidentId") REFERENCES "Incidents" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_IncidentComment_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2025-12-15 20:13:17.399 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Tasks" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "IncidentId" integer NOT NULL,
    "AssignedToUserId" integer NOT NULL,
    "Description" text NOT NULL,
    "Status" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "DueDate" timestamp with time zone,
    "CompletedAt" timestamp with time zone,
    CONSTRAINT "PK_Tasks" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Tasks_Incidents_IncidentId" FOREIGN KEY ("IncidentId") REFERENCES "Incidents" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Tasks_Users_AssignedToUserId" FOREIGN KEY ("AssignedToUserId") REFERENCES "Users" ("Id") ON DELETE RESTRICT
);
2025-12-15 20:13:17.402 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AuditLogs_Action" ON "AuditLogs" ("Action");
2025-12-15 20:13:17.403 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AuditLogs_Timestamp" ON "AuditLogs" ("Timestamp");
2025-12-15 20:13:17.404 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AuditLogs_UserId" ON "AuditLogs" ("UserId");
2025-12-15 20:13:17.406 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CorrectiveAction_IncidentId" ON "CorrectiveAction" ("IncidentId");
2025-12-15 20:13:17.407 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Devices_DeviceId" ON "Devices" ("DeviceId");
2025-12-15 20:13:17.407 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_IncidentComment_IncidentId" ON "IncidentComment" ("IncidentId");
2025-12-15 20:13:17.408 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_IncidentComment_UserId" ON "IncidentComment" ("UserId");
2025-12-15 20:13:17.408 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_AssignedTo" ON "Incidents" ("AssignedTo");
2025-12-15 20:13:17.409 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_CapturedAt" ON "Incidents" ("CapturedAt");
2025-12-15 20:13:17.410 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_CreatedBy" ON "Incidents" ("CreatedBy");
2025-12-15 20:13:17.410 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_DeviceId" ON "Incidents" ("DeviceId");
2025-12-15 20:13:17.411 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Incidents_ServerIncidentId" ON "Incidents" ("ServerIncidentId");
2025-12-15 20:13:17.411 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_Severity" ON "Incidents" ("Severity");
2025-12-15 20:13:17.412 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_Status" ON "Incidents" ("Status");
2025-12-15 20:13:17.413 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Models_Version" ON "Models" ("Version");
2025-12-15 20:13:17.416 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Tasks_AssignedToUserId" ON "Tasks" ("AssignedToUserId");
2025-12-15 20:13:17.418 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Tasks_IncidentId" ON "Tasks" ("IncidentId");
2025-12-15 20:13:17.418 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Tasks_Status" ON "Tasks" ("Status");
2025-12-15 20:13:17.419 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Users_Email" ON "Users" ("Email");
2025-12-15 20:13:17.420 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251215093027_InitialSchema', '10.0.0');
2025-12-15 20:13:17.430 +05:30 [INF] User profile is available. Using '/Users/ankitkuniyal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-15 20:13:17.436 +05:30 [INF] Creating key {6cc40292-2cf0-4e3e-bd35-12a47fabcbfb} with creation date 2025-12-15 14:43:17Z, activation date 2025-12-15 14:43:17Z, and expiration date 2026-03-15 14:43:17Z.
2025-12-15 20:13:17.440 +05:30 [WRN] No XML encryptor configured. Key {6cc40292-2cf0-4e3e-bd35-12a47fabcbfb} may be persisted to storage in unencrypted form.
2025-12-15 20:13:17.442 +05:30 [INF] Writing data to file '/Users/ankitkuniyal/.aspnet/DataProtection-Keys/key-6cc40292-2cf0-4e3e-bd35-12a47fabcbfb.xml'.
2025-12-15 20:13:17.460 +05:30 [INF] Now listening on: http://localhost:5000
2025-12-15 20:13:17.461 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 20:13:17.461 +05:30 [INF] Hosting environment: Production
2025-12-15 20:13:17.461 +05:30 [INF] Content root path: /Users/ankitkuniyal/Documents/Coding/Projects/Hazard-Eye/backend/HazardEye.API
2025-12-15 20:13:17.604 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:14:18.164 +05:30 [INF] Executed DbCommand (449ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:15:18.213 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:16:18.246 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
story" IN ACCESS EXCLUSIVE MODE
2025-12-15 20:14:41.902 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 20:14:41.903 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-12-15 20:14:41.911 +05:30 [INF] User profile is available. Using '/Users/ankitkuniyal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-15 20:14:41.941 +05:30 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5000: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.DefaultAddressStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-12-15 20:15:31.936 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 20:15:32.181 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-15 20:15:32.237 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 20:15:32.241 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 20:15:32.242 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 20:15:32.243 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 20:15:32.246 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-12-15 20:15:32.259 +05:30 [INF] User profile is available. Using '/Users/ankitkuniyal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-15 20:15:32.305 +05:30 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5000: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.DefaultAddressStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-12-15 20:17:05.916 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 20:17:06.076 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-15 20:17:06.109 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 20:17:06.113 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 20:17:06.114 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 20:17:06.115 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 20:17:06.117 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-12-15 20:17:06.132 +05:30 [INF] User profile is available. Using '/Users/ankitkuniyal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-15 20:17:06.160 +05:30 [INF] Now listening on: http://localhost:5000
2025-12-15 20:17:06.161 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 20:17:06.161 +05:30 [INF] Hosting environment: Production
2025-12-15 20:17:06.161 +05:30 [INF] Content root path: /Users/ankitkuniyal/Documents/Coding/Projects/Hazard-Eye/backend/HazardEye.API
2025-12-15 20:17:06.333 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:17:47.427 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2025-12-15 20:17:47.459 +05:30 [WRN] Failed to determine the https port for redirect.
2025-12-15 20:17:47.497 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 404 null null 71.4991ms
2025-12-15 20:17:47.499 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/, Response status code: 404
2025-12-15 20:17:59.003 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2025-12-15 20:17:59.020 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 404 null null 16.6705ms
2025-12-15 20:17:59.020 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5000/, Response status code: 404
2025-12-15 20:18:06.430 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:19:06.540 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:20:06.600 +05:30 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:21:06.718 +05:30 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:22:06.800 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:23:06.815 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:24:06.832 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:25:06.889 +05:30 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:26:06.914 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:27:06.944 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:28:06.960 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:29:06.978 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:30:07.065 +05:30 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:31:07.122 +05:30 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:32:07.188 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:33:07.321 +05:30 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:34:07.337 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:35:07.354 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:36:07.438 +05:30 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:37:07.592 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:38:07.649 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:39:07.670 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:40:07.707 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:41:07.731 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:42:07.798 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:43:07.823 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:44:07.848 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:45:07.868 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:46:07.881 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:47:07.940 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:48:07.958 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:49:08.021 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:50:08.054 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:51:08.106 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:52:08.153 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:53:08.188 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:54:08.242 +05:30 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:55:08.272 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:56:08.302 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:57:08.356 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:58:08.390 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 20:59:08.455 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:00:08.518 +05:30 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:01:08.597 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:02:08.894 +05:30 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:03:08.921 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:04:08.977 +05:30 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:05:09.372 +05:30 [INF] Executed DbCommand (380ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:06:09.428 +05:30 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:07:09.538 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:08:09.551 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:09:09.559 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:10:09.588 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:11:09.655 +05:30 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:12:09.916 +05:30 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:13:09.945 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:14:10.004 +05:30 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:15:10.026 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:16:10.084 +05:30 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:17:10.262 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:18:10.345 +05:30 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:19:10.376 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:20:10.403 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:21:10.407 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:22:10.459 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:23:10.465 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:24:10.492 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:24:51.742 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/incidents? - null null
2025-12-15 21:24:51.782 +05:30 [INF] CORS policy execution successful.
2025-12-15 21:24:51.809 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SafetyOfficer|Admin)
2025-12-15 21:24:51.815 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 21:24:51.819 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/incidents? - 401 0 null 80.5388ms
2025-12-15 21:25:10.577 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
ockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.DefaultAddressStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-12-15 21:27:30.322 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 21:27:30.480 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-15 21:27:30.507 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 21:27:30.510 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 21:27:30.517 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 21:27:30.518 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 21:27:30.520 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-12-15 21:27:30.527 +05:30 [INF] User profile is available. Using '/Users/ankitkuniyal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-15 21:27:30.557 +05:30 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://[::]:5200: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.UpdateStatusAfterSocke2025-12-15 21:27:30.719 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:27:53.157 +05:30 [INF] Application is shutting down...
2025-12-15 21:27:53.172 +05:30 [ERR] Error in notification worker
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at HazardEye.API.Services.NotificationWorker.ExecuteAsync(CancellationToken stoppingToken) in /Users/ankitkuniyal/Documents/Coding/Projects/Hazard-Eye/backend/HazardEye.API/Services/NotificationWorker.cs:line 41
ntConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.ListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.AnyIPListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-12-15 21:27:59.982 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 21:28:00.119 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-15 21:28:00.242 +05:30 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 21:28:00.247 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 21:28:00.249 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 21:28:00.250 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 21:28:00.253 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-12-15 21:28:00.261 +05:30 [INF] User profile is available. Using '/Users/ankitkuniyal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-15 21:28:00.290 +05:30 [INF] Now listening on: http://[::]:5200
2025-12-15 21:28:00.291 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 21:28:00.291 +05:30 [INF] Hosting environment: Production
2025-12-15 21:28:00.291 +05:30 [INF] Content root path: /Users/ankitkuniyal/Documents/Coding/Projects/Hazard-Eye/backend/HazardEye.API
2025-12-15 21:28:00.454 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:29:00.567 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:30:00.611 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:31:00.623 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:32:00.647 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:33:00.684 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:34:00.723 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:35:00.779 +05:30 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:36:00.842 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:37:00.879 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:38:00.938 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:39:00.989 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:40:00.998 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:41:01.073 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:42:01.191 +05:30 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:43:01.285 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:44:01.374 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:45:01.424 +05:30 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:46:01.507 +05:30 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:47:01.560 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:48:01.671 +05:30 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:49:01.682 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:50:01.746 +05:30 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:51:01.779 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:52:01.795 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:53:01.901 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:54:01.997 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:55:02.074 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:56:02.168 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:57:02.245 +05:30 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:58:02.389 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 21:59:02.449 +05:30 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:00:02.505 +05:30 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:01:02.535 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:02:02.590 +05:30 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:03:02.647 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:04:02.713 +05:30 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:05:02.741 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:06:02.751 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:07:02.979 +05:30 [INF] Executed DbCommand (133ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:08:03.046 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:09:03.052 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:10:03.116 +05:30 [ERR] Failed executing DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:10:03.176 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'HazardEye.API.Data.HazardEyeDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.PostgresException (0x80004005): 57P01: terminating connection due to unexpected postmaster exit
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
  Exception data:
    Severity: FATAL
    SqlState: 57P01
    MessageText: terminating connection due to unexpected postmaster exit
    File: be-secure.c
    Line: 209
    Routine: secure_read
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.PostgresException (0x80004005): 57P01: terminating connection due to unexpected postmaster exit
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
  Exception data:
    Severity: FATAL
    SqlState: 57P01
    MessageText: terminating connection due to unexpected postmaster exit
    File: be-secure.c
    Line: 209
    Routine: secure_read
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-12-15 22:10:03.179 +05:30 [ERR] Error in notification worker
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.PostgresException (0x80004005): 57P01: terminating connection due to unexpected postmaster exit
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
  Exception data:
    Severity: FATAL
    SqlState: 57P01
    MessageText: terminating connection due to unexpected postmaster exit
    File: be-secure.c
    Line: 209
    Routine: secure_read
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at HazardEye.API.Services.NotificationWorker.ExecuteAsync(CancellationToken stoppingToken)
2025-12-15 22:13:15.289 +05:30 [INF] Application is shutting down...
2025-12-15 22:13:25.709 +05:30 [ERR] An error occurred using the connection to database 'Hazardeye' on server 'tcp://localhost:5432'.
2025-12-15 22:13:26.030 +05:30 [INF] Executed DbCommand (136ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Hazardeye";
2025-12-15 22:13:26.049 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-15 22:13:26.091 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 22:13:26.096 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 22:13:26.097 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 22:13:26.098 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 22:13:26.104 +05:30 [INF] Applying migration '20251215093027_InitialSchema'.
2025-12-15 22:13:26.128 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AdvisoryTemplates" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "Template" text NOT NULL,
    "Rules" jsonb NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone,
    CONSTRAINT "PK_AdvisoryTemplates" PRIMARY KEY ("Id")
);
2025-12-15 22:13:26.130 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalRequests" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ActionType" text NOT NULL,
    "EntityType" text NOT NULL,
    "EntityId" integer NOT NULL,
    "RequestedBy" integer NOT NULL,
    "ApprovedBy" integer,
    "Status" text NOT NULL,
    "Reason" text NOT NULL,
    "Metadata" jsonb NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "ResolvedAt" timestamp with time zone,
    CONSTRAINT "PK_ApprovalRequests" PRIMARY KEY ("Id")
);
2025-12-15 22:13:26.132 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Devices" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "DeviceId" text NOT NULL,
    "Model" text NOT NULL,
    "ModelVersion" text,
    "Status" text NOT NULL,
    "RegisteredAt" timestamp with time zone NOT NULL,
    "LastSeen" timestamp with time zone,
    "LastKnownLocation" text,
    "Metadata" jsonb NOT NULL,
    CONSTRAINT "PK_Devices" PRIMARY KEY ("Id")
);
2025-12-15 22:13:26.134 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Models" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Version" text NOT NULL,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "StoragePath" text NOT NULL,
    "Signature" text,
    "Status" text NOT NULL,
    "Metrics" jsonb NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "PublishedAt" timestamp with time zone,
    "CreatedBy" integer NOT NULL,
    "ReleaseNotes" text,
    CONSTRAINT "PK_Models" PRIMARY KEY ("Id")
);
2025-12-15 22:13:26.135 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "SeverityRules" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "Condition" text NOT NULL,
    "Severity" text NOT NULL,
    "Priority" integer NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_SeverityRules" PRIMARY KEY ("Id")
);
2025-12-15 22:13:26.137 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "PasswordHash" text NOT NULL,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Role" text NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "LastLoginAt" timestamp with time zone,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2025-12-15 22:13:26.140 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AuditLogs" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" integer,
    "Action" text NOT NULL,
    "EntityType" text NOT NULL,
    "EntityId" integer,
    "Details" jsonb NOT NULL,
    "IpAddress" text NOT NULL,
    "UserAgent" text NOT NULL,
    "Timestamp" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_AuditLogs" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AuditLogs_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id")
);
2025-12-15 22:13:26.142 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Incidents" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ServerIncidentId" text NOT NULL,
    "DeviceId" text NOT NULL,
    "IncidentId" text,
    "CapturedAt" timestamp with time zone NOT NULL,
    "Severity" text NOT NULL,
    "Category" text NOT NULL,
    "Status" text NOT NULL,
    "AssignedTo" integer,
    "CreatedBy" integer NOT NULL,
    "MediaUris" jsonb NOT NULL,
    "MlMetadata" jsonb NOT NULL,
    "Advisory" text,
    "Note" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    "ResolvedAt" timestamp with time zone,
    "ClosedAt" timestamp with time zone,
    CONSTRAINT "PK_Incidents" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Incidents_Users_AssignedTo" FOREIGN KEY ("AssignedTo") REFERENCES "Users" ("Id") ON DELETE SET NULL,
    CONSTRAINT "FK_Incidents_Users_CreatedBy" FOREIGN KEY ("CreatedBy") REFERENCES "Users" ("Id") ON DELETE RESTRICT
);
2025-12-15 22:13:26.144 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CorrectiveAction" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "IncidentId" integer NOT NULL,
    "Action" text NOT NULL,
    "DueDate" timestamp with time zone NOT NULL,
    "Completed" boolean NOT NULL,
    "CompletedAt" timestamp with time zone,
    "CompletedBy" integer,
    CONSTRAINT "PK_CorrectiveAction" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CorrectiveAction_Incidents_IncidentId" FOREIGN KEY ("IncidentId") REFERENCES "Incidents" ("Id") ON DELETE CASCADE
);
2025-12-15 22:13:26.146 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "IncidentComment" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "IncidentId" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Comment" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_IncidentComment" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_IncidentComment_Incidents_IncidentId" FOREIGN KEY ("IncidentId") REFERENCES "Incidents" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_IncidentComment_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2025-12-15 22:13:26.149 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Tasks" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "IncidentId" integer NOT NULL,
    "AssignedToUserId" integer NOT NULL,
    "Description" text NOT NULL,
    "Status" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "DueDate" timestamp with time zone,
    "CompletedAt" timestamp with time zone,
    CONSTRAINT "PK_Tasks" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Tasks_Incidents_IncidentId" FOREIGN KEY ("IncidentId") REFERENCES "Incidents" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Tasks_Users_AssignedToUserId" FOREIGN KEY ("AssignedToUserId") REFERENCES "Users" ("Id") ON DELETE RESTRICT
);
2025-12-15 22:13:26.150 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AuditLogs_Action" ON "AuditLogs" ("Action");
2025-12-15 22:13:26.150 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AuditLogs_Timestamp" ON "AuditLogs" ("Timestamp");
2025-12-15 22:13:26.151 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AuditLogs_UserId" ON "AuditLogs" ("UserId");
2025-12-15 22:13:26.157 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CorrectiveAction_IncidentId" ON "CorrectiveAction" ("IncidentId");
2025-12-15 22:13:26.159 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Devices_DeviceId" ON "Devices" ("DeviceId");
2025-12-15 22:13:26.160 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_IncidentComment_IncidentId" ON "IncidentComment" ("IncidentId");
2025-12-15 22:13:26.161 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_IncidentComment_UserId" ON "IncidentComment" ("UserId");
2025-12-15 22:13:26.161 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_AssignedTo" ON "Incidents" ("AssignedTo");
2025-12-15 22:13:26.162 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_CapturedAt" ON "Incidents" ("CapturedAt");
2025-12-15 22:13:26.163 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_CreatedBy" ON "Incidents" ("CreatedBy");
2025-12-15 22:13:26.164 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_DeviceId" ON "Incidents" ("DeviceId");
2025-12-15 22:13:26.165 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Incidents_ServerIncidentId" ON "Incidents" ("ServerIncidentId");
2025-12-15 22:13:26.165 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_Severity" ON "Incidents" ("Severity");
2025-12-15 22:13:26.166 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_Status" ON "Incidents" ("Status");
2025-12-15 22:13:26.166 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Models_Version" ON "Models" ("Version");
2025-12-15 22:13:26.167 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Tasks_AssignedToUserId" ON "Tasks" ("AssignedToUserId");
2025-12-15 22:13:26.167 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Tasks_IncidentId" ON "Tasks" ("IncidentId");
2025-12-15 22:13:26.167 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Tasks_Status" ON "Tasks" ("Status");
2025-12-15 22:13:26.168 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Users_Email" ON "Users" ("Email");
2025-12-15 22:13:26.168 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251215093027_InitialSchema', '10.0.0');
2025-12-15 22:13:26.177 +05:30 [INF] User profile is available. Using '/Users/ankitkuniyal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-15 22:13:26.207 +05:30 [INF] Now listening on: http://[::]:5200
2025-12-15 22:13:26.208 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 22:13:26.208 +05:30 [INF] Hosting environment: Production
2025-12-15 22:13:26.208 +05:30 [INF] Content root path: /Users/ankitkuniyal/Documents/Coding/Projects/Hazard-Eye/backend/HazardEye.API
2025-12-15 22:13:26.378 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:14:26.479 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:15:26.511 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:16:26.545 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:17:26.577 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:18:26.668 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:19:26.696 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:20:26.709 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:21:26.739 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:22:26.771 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:23:26.809 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:24:26.845 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:25:26.871 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:26:26.903 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:27:26.944 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:28:27.012 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:29:27.046 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:30:27.078 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:31:27.097 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:32:27.113 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:33:27.162 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:34:27.178 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:35:27.196 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:36:27.215 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:37:27.226 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:38:27.270 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:39:27.291 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:40:27.311 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:41:27.318 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:42:27.389 +05:30 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:43:27.435 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:44:01.807 +05:30 [INF] Application is shutting down...
2025-12-15 22:44:01.860 +05:30 [ERR] Error in notification worker
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at HazardEye.API.Services.NotificationWorker.ExecuteAsync(CancellationToken stoppingToken)
y in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.ListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.AnyIPListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-12-15 22:44:07.186 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 22:44:07.304 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-15 22:44:07.329 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 22:44:07.334 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 22:44:07.335 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 22:44:07.335 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 22:44:07.337 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-12-15 22:44:07.342 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-15 22:44:07.347 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-12-15 22:44:07.448 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-15 22:44:07.454 +05:30 [INF] User profile is available. Using '/Users/ankitkuniyal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-15 22:44:07.487 +05:30 [INF] Now listening on: http://[::]:5200
2025-12-15 22:44:07.488 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 22:44:07.488 +05:30 [INF] Hosting environment: Production
2025-12-15 22:44:07.488 +05:30 [INF] Content root path: /Users/ankitkuniyal/Documents/Coding/Projects/Hazard-Eye/backend/HazardEye.API
2025-12-15 22:44:07.544 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:45:07.703 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:46:07.792 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 22:45:32.810 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 22:45:32.814 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 22:45:32.814 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 22:45:32.816 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-12-15 22:45:32.822 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-15 22:45:32.827 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-12-15 22:45:32.944 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-15 22:45:32.953 +05:30 [INF] User profile is available. Using '/Users/ankitkuniyal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-15 22:45:32.994 +05:30 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://[::]:5200: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.ListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.AnyIPListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-12-15 22:47:10.890 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 22:47:11.010 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-15 22:47:11.036 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 22:47:11.040 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 22:47:11.041 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 22:47:11.041 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 22:47:11.043 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-12-15 22:47:11.047 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-15 22:47:11.051 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-12-15 22:47:11.150 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-15 22:47:11.157 +05:30 [INF] User profile is available. Using '/Users/ankitkuniyal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-15 22:47:11.189 +05:30 [INF] Now listening on: http://[::]:5200
2025-12-15 22:47:11.190 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 22:47:11.190 +05:30 [INF] Hosting environment: Production
2025-12-15 22:47:11.190 +05:30 [INF] Content root path: /Users/ankitkuniyal/Documents/Coding/Projects/Hazard-Eye/backend/HazardEye.API
2025-12-15 22:47:11.250 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:48:11.367 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:49:11.396 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:50:11.423 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:51:11.467 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:52:11.543 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:53:07.089 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 22:53:07.124 +05:30 [WRN] Failed to determine the https port for redirect.
2025-12-15 22:53:07.128 +05:30 [INF] CORS policy execution successful.
2025-12-15 22:53:07.160 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-15 22:53:07.162 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 22:53:07.169 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 401 0 null 81.7215ms
2025-12-15 22:53:11.568 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:53:23.473 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - null 0
2025-12-15 22:53:23.480 +05:30 [INF] CORS policy execution successful.
2025-12-15 22:53:23.484 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - 204 null null 11.0947ms
2025-12-15 22:53:23.488 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/Auth/login - application/json 63
2025-12-15 22:53:23.491 +05:30 [INF] CORS policy execution successful.
2025-12-15 22:53:23.503 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 22:53:23.538 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.LoginResponse]] Login(HazardEye.API.DTOs.LoginRequest) on controller HazardEye.API.Controllers.AuthController (HazardEye.API).
2025-12-15 22:53:23.625 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@request_Email='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role"
FROM "Users" AS u
WHERE u."Email" = @request_Email AND u."IsActive"
LIMIT 1
2025-12-15 22:53:23.730 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "LastLoginAt" = @p0
WHERE "Id" = @p1;
2025-12-15 22:53:23.741 +05:30 [INF] Executed action HazardEye.API.Controllers.AuthController.Login (HazardEye.API) in 200.4301ms
2025-12-15 22:53:23.741 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 22:53:23.743 +05:30 [ERR] Connection id "0HNHRVQEBGOJT", Request id "0HNHRVQEBGOJT:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: JWT Key not configured
   at HazardEye.API.Services.AuthService.GenerateJwtToken(User user) in /Users/ankitkuniyal/Documents/Coding/Projects/Hazard-Eye/backend/HazardEye.API/Services/AuthService.cs:line 70
   at HazardEye.API.Services.AuthService.LoginAsync(LoginRequest request) in /Users/ankitkuniyal/Documents/Coding/Projects/Hazard-Eye/backend/HazardEye.API/Services/AuthService.cs:line 37
   at HazardEye.API.Controllers.AuthController.Login(LoginRequest request) in /Users/ankitkuniyal/Documents/Coding/Projects/Hazard-Eye/backend/HazardEye.API/Controllers/AuthController.cs:line 23
   at lambda_method45(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/ankitkuniyal/Documents/Coding/Projects/Hazard-Eye/backend/HazardEye.API/Program.cs:line 125
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-12-15 22:53:23.765 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/Auth/login - 500 0 null 277.002ms
2025-12-15 22:54:11.604 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:55:11.785 +05:30 [INF] Executed DbCommand (135ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:56:11.809 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:57:11.863 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:57:25.075 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - null 0
2025-12-15 22:57:25.078 +05:30 [INF] CORS policy execution successful.
2025-12-15 22:57:25.079 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - 204 null null 3.8739ms
2025-12-15 22:57:25.084 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/Auth/login - application/json 63
2025-12-15 22:57:25.085 +05:30 [INF] CORS policy execution successful.
2025-12-15 22:57:25.092 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 22:57:25.104 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.LoginResponse]] Login(HazardEye.API.DTOs.LoginRequest) on controller HazardEye.API.Controllers.AuthController (HazardEye.API).
2025-12-15 22:57:25.122 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@request_Email='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role"
FROM "Users" AS u
WHERE u."Email" = @request_Email AND u."IsActive"
LIMIT 1
2025-12-15 22:57:25.136 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "LastLoginAt" = @p0
WHERE "Id" = @p1;
2025-12-15 22:57:25.137 +05:30 [INF] Executed action HazardEye.API.Controllers.AuthController.Login (HazardEye.API) in 32.1624ms
2025-12-15 22:57:25.137 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 22:57:25.137 +05:30 [ERR] Connection id "0HNHRVQEBGOJU", Request id "0HNHRVQEBGOJU:00000002": An unhandled exception was thrown by the application.
System.InvalidOperationException: JWT Key not configured
   at HazardEye.API.Services.AuthService.GenerateJwtToken(User user)
   at HazardEye.API.Services.AuthService.LoginAsync(LoginRequest request)
   at HazardEye.API.Controllers.AuthController.Login(LoginRequest request)
   at lambda_method171(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-12-15 22:57:25.144 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/Auth/login - 500 0 null 59.778ms
2025-12-15 22:57:29.274 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/Auth/login - application/json 62
2025-12-15 22:57:29.275 +05:30 [INF] CORS policy execution successful.
2025-12-15 22:57:29.275 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 22:57:29.276 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.LoginResponse]] Login(HazardEye.API.DTOs.LoginRequest) on controller HazardEye.API.Controllers.AuthController (HazardEye.API).
2025-12-15 22:57:29.283 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role"
FROM "Users" AS u
WHERE u."Email" = @request_Email AND u."IsActive"
LIMIT 1
2025-12-15 22:57:29.288 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-15 22:57:29.304 +05:30 [INF] Executed action HazardEye.API.Controllers.AuthController.Login (HazardEye.API) in 26.8612ms
2025-12-15 22:57:29.304 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 22:57:29.304 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/Auth/login - 401 null application/json; charset=utf-8 30.1697ms
2025-12-15 22:57:48.949 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - null 0
2025-12-15 22:57:48.951 +05:30 [INF] CORS policy execution successful.
2025-12-15 22:57:48.954 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - 204 null null 5.1128ms
2025-12-15 22:57:48.958 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/Auth/login - application/json 62
2025-12-15 22:57:48.959 +05:30 [INF] CORS policy execution successful.
2025-12-15 22:57:48.959 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 22:57:48.960 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.LoginResponse]] Login(HazardEye.API.DTOs.LoginRequest) on controller HazardEye.API.Controllers.AuthController (HazardEye.API).
2025-12-15 22:57:48.978 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@request_Email='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role"
FROM "Users" AS u
WHERE u."Email" = @request_Email AND u."IsActive"
LIMIT 1
2025-12-15 22:57:48.980 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-15 22:57:48.981 +05:30 [INF] Executed action HazardEye.API.Controllers.AuthController.Login (HazardEye.API) in 21.2208ms
2025-12-15 22:57:48.982 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 22:57:48.982 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/Auth/login - 401 null application/json; charset=utf-8 24.1017ms
2025-12-15 22:58:11.881 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 22:58:17.736 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - null 0
2025-12-15 22:58:17.739 +05:30 [INF] CORS policy execution successful.
2025-12-15 22:58:17.739 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - 204 null null 3.154ms
2025-12-15 22:58:17.742 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/Auth/login - application/json 62
2025-12-15 22:58:17.742 +05:30 [INF] CORS policy execution successful.
2025-12-15 22:58:17.743 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 22:58:17.743 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.LoginResponse]] Login(HazardEye.API.DTOs.LoginRequest) on controller HazardEye.API.Controllers.AuthController (HazardEye.API).
2025-12-15 22:58:17.749 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@request_Email='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role"
FROM "Users" AS u
WHERE u."Email" = @request_Email AND u."IsActive"
LIMIT 1
2025-12-15 22:58:17.750 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-15 22:58:17.751 +05:30 [INF] Executed action HazardEye.API.Controllers.AuthController.Login (HazardEye.API) in 7.0515ms
2025-12-15 22:58:17.751 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 22:58:17.751 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/Auth/login - 401 null application/json; charset=utf-8 8.9723ms
2025-12-15 22:59:11.909 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:00:00.894 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - null 0
2025-12-15 23:00:00.896 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:00:00.897 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - 204 null null 2.8597ms
2025-12-15 23:00:00.899 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/Auth/login - application/json 58
2025-12-15 23:00:00.900 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:00:00.901 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 23:00:00.902 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.LoginResponse]] Login(HazardEye.API.DTOs.LoginRequest) on controller HazardEye.API.Controllers.AuthController (HazardEye.API).
2025-12-15 23:00:00.944 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@request_Email='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role"
FROM "Users" AS u
WHERE u."Email" = @request_Email AND u."IsActive"
LIMIT 1
2025-12-15 23:00:00.945 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-15 23:00:00.945 +05:30 [INF] Executed action HazardEye.API.Controllers.AuthController.Login (HazardEye.API) in 42.8202ms
2025-12-15 23:00:00.945 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 23:00:00.945 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/Auth/login - 401 null application/json; charset=utf-8 45.9003ms
2025-12-15 23:00:11.924 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:00:49.518 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - null 0
2025-12-15 23:00:49.520 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:00:49.521 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - 204 null null 3.2582ms
2025-12-15 23:00:49.525 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/Auth/login - application/json 63
2025-12-15 23:00:49.525 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:00:49.526 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 23:00:49.528 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.LoginResponse]] Login(HazardEye.API.DTOs.LoginRequest) on controller HazardEye.API.Controllers.AuthController (HazardEye.API).
2025-12-15 23:00:49.550 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@request_Email='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role"
FROM "Users" AS u
WHERE u."Email" = @request_Email AND u."IsActive"
LIMIT 1
2025-12-15 23:00:49.555 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "LastLoginAt" = @p0
WHERE "Id" = @p1;
2025-12-15 23:00:49.557 +05:30 [INF] Executed action HazardEye.API.Controllers.AuthController.Login (HazardEye.API) in 29.2337ms
2025-12-15 23:00:49.557 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 23:00:49.558 +05:30 [ERR] Connection id "0HNHRVQEBGOK0", Request id "0HNHRVQEBGOK0:00000002": An unhandled exception was thrown by the application.
System.InvalidOperationException: JWT Key not configured
   at HazardEye.API.Services.AuthService.GenerateJwtToken(User user)
   at HazardEye.API.Services.AuthService.LoginAsync(LoginRequest request)
   at HazardEye.API.Controllers.AuthController.Login(LoginRequest request)
   at lambda_method171(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-12-15 23:00:49.568 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/Auth/login - 500 0 null 42.9518ms
2025-12-15 23:01:05.838 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - null 0
2025-12-15 23:01:05.840 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:01:05.844 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - 204 null null 4.3719ms
2025-12-15 23:01:05.847 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/Auth/login - application/json 63
2025-12-15 23:01:05.848 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:01:05.848 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 23:01:05.851 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.LoginResponse]] Login(HazardEye.API.DTOs.LoginRequest) on controller HazardEye.API.Controllers.AuthController (HazardEye.API).
2025-12-15 23:01:05.877 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@request_Email='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role"
FROM "Users" AS u
WHERE u."Email" = @request_Email AND u."IsActive"
LIMIT 1
2025-12-15 23:01:05.884 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "LastLoginAt" = @p0
WHERE "Id" = @p1;
2025-12-15 23:01:05.888 +05:30 [INF] Executed action HazardEye.API.Controllers.AuthController.Login (HazardEye.API) in 36.7704ms
2025-12-15 23:01:05.888 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 23:01:05.889 +05:30 [ERR] Connection id "0HNHRVQEBGOK0", Request id "0HNHRVQEBGOK0:00000004": An unhandled exception was thrown by the application.
System.InvalidOperationException: JWT Key not configured
   at HazardEye.API.Services.AuthService.GenerateJwtToken(User user)
   at HazardEye.API.Services.AuthService.LoginAsync(LoginRequest request)
   at HazardEye.API.Controllers.AuthController.Login(LoginRequest request)
   at lambda_method171(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-12-15 23:01:05.899 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/Auth/login - 500 0 null 51.4752ms
2025-12-15 23:01:11.928 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:02:11.962 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:02:26.136 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - null 0
2025-12-15 23:02:26.138 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:02:26.139 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - 204 null null 3.6373ms
2025-12-15 23:02:26.144 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/Auth/login - application/json 63
2025-12-15 23:02:26.144 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:02:26.146 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 23:02:26.148 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.LoginResponse]] Login(HazardEye.API.DTOs.LoginRequest) on controller HazardEye.API.Controllers.AuthController (HazardEye.API).
2025-12-15 23:02:26.166 +05:30 [INF] Executed action HazardEye.API.Controllers.AuthController.Login (HazardEye.API) in 17.632ms
2025-12-15 23:02:26.166 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 23:02:26.168 +05:30 [ERR] Connection id "0HNHRVQEBGOK1", Request id "0HNHRVQEBGOK1:00000002": An unhandled exception was thrown by the application.
System.TypeLoadException: Could not load type 'nfrastructure.ture' from assembly 'HazardEye.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
   at HazardEye.API.Controllers.AuthController.Login(LoginRequest request)
   at lambda_method174(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-12-15 23:02:26.178 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/Auth/login - 500 0 null 34.8356ms
2025-12-15 23:02:48.325 +05:30 [INF] Application is shutting down...
2025-12-15 23:02:48.360 +05:30 [ERR] Error in notification worker
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at HazardEye.API.Services.NotificationWorker.ExecuteAsync(CancellationToken stoppingToken)
Func`3 operation)
2025-12-15 23:12:31.126 +05:30 [ERR] An error occurred using the connection to database 'hazardeye' on server 'tcp://127.0.0.1:5432'.
2025-12-15 23:12:31.401 +05:30 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE hazardeye;
2025-12-15 23:12:31.431 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-15 23:12:31.463 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 23:12:31.466 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 23:12:31.467 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 23:12:31.468 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 23:12:31.473 +05:30 [INF] Applying migration '20251215093027_InitialSchema'.
2025-12-15 23:12:31.491 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AdvisoryTemplates" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "Template" text NOT NULL,
    "Rules" jsonb NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone,
    CONSTRAINT "PK_AdvisoryTemplates" PRIMARY KEY ("Id")
);
2025-12-15 23:12:31.493 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalRequests" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ActionType" text NOT NULL,
    "EntityType" text NOT NULL,
    "EntityId" integer NOT NULL,
    "RequestedBy" integer NOT NULL,
    "ApprovedBy" integer,
    "Status" text NOT NULL,
    "Reason" text NOT NULL,
    "Metadata" jsonb NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "ResolvedAt" timestamp with time zone,
    CONSTRAINT "PK_ApprovalRequests" PRIMARY KEY ("Id")
);
2025-12-15 23:12:31.494 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Devices" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "DeviceId" text NOT NULL,
    "Model" text NOT NULL,
    "ModelVersion" text,
    "Status" text NOT NULL,
    "RegisteredAt" timestamp with time zone NOT NULL,
    "LastSeen" timestamp with time zone,
    "LastKnownLocation" text,
    "Metadata" jsonb NOT NULL,
    CONSTRAINT "PK_Devices" PRIMARY KEY ("Id")
);
2025-12-15 23:12:31.495 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Models" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Version" text NOT NULL,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "StoragePath" text NOT NULL,
    "Signature" text,
    "Status" text NOT NULL,
    "Metrics" jsonb NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "PublishedAt" timestamp with time zone,
    "CreatedBy" integer NOT NULL,
    "ReleaseNotes" text,
    CONSTRAINT "PK_Models" PRIMARY KEY ("Id")
);
2025-12-15 23:12:31.496 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "SeverityRules" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "Condition" text NOT NULL,
    "Severity" text NOT NULL,
    "Priority" integer NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_SeverityRules" PRIMARY KEY ("Id")
);
2025-12-15 23:12:31.497 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "PasswordHash" text NOT NULL,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Role" text NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "LastLoginAt" timestamp with time zone,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2025-12-15 23:12:31.499 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AuditLogs" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" integer,
    "Action" text NOT NULL,
    "EntityType" text NOT NULL,
    "EntityId" integer,
    "Details" jsonb NOT NULL,
    "IpAddress" text NOT NULL,
    "UserAgent" text NOT NULL,
    "Timestamp" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_AuditLogs" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AuditLogs_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id")
);
2025-12-15 23:12:31.501 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Incidents" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ServerIncidentId" text NOT NULL,
    "DeviceId" text NOT NULL,
    "IncidentId" text,
    "CapturedAt" timestamp with time zone NOT NULL,
    "Severity" text NOT NULL,
    "Category" text NOT NULL,
    "Status" text NOT NULL,
    "AssignedTo" integer,
    "CreatedBy" integer NOT NULL,
    "MediaUris" jsonb NOT NULL,
    "MlMetadata" jsonb NOT NULL,
    "Advisory" text,
    "Note" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    "ResolvedAt" timestamp with time zone,
    "ClosedAt" timestamp with time zone,
    CONSTRAINT "PK_Incidents" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Incidents_Users_AssignedTo" FOREIGN KEY ("AssignedTo") REFERENCES "Users" ("Id") ON DELETE SET NULL,
    CONSTRAINT "FK_Incidents_Users_CreatedBy" FOREIGN KEY ("CreatedBy") REFERENCES "Users" ("Id") ON DELETE RESTRICT
);
2025-12-15 23:12:31.502 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CorrectiveAction" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "IncidentId" integer NOT NULL,
    "Action" text NOT NULL,
    "DueDate" timestamp with time zone NOT NULL,
    "Completed" boolean NOT NULL,
    "CompletedAt" timestamp with time zone,
    "CompletedBy" integer,
    CONSTRAINT "PK_CorrectiveAction" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CorrectiveAction_Incidents_IncidentId" FOREIGN KEY ("IncidentId") REFERENCES "Incidents" ("Id") ON DELETE CASCADE
);
2025-12-15 23:12:31.504 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "IncidentComment" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "IncidentId" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Comment" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_IncidentComment" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_IncidentComment_Incidents_IncidentId" FOREIGN KEY ("IncidentId") REFERENCES "Incidents" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_IncidentComment_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2025-12-15 23:12:31.506 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Tasks" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "IncidentId" integer NOT NULL,
    "AssignedToUserId" integer NOT NULL,
    "Description" text NOT NULL,
    "Status" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "DueDate" timestamp with time zone,
    "CompletedAt" timestamp with time zone,
    CONSTRAINT "PK_Tasks" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Tasks_Incidents_IncidentId" FOREIGN KEY ("IncidentId") REFERENCES "Incidents" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Tasks_Users_AssignedToUserId" FOREIGN KEY ("AssignedToUserId") REFERENCES "Users" ("Id") ON DELETE RESTRICT
);
2025-12-15 23:12:31.507 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AuditLogs_Action" ON "AuditLogs" ("Action");
2025-12-15 23:12:31.507 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AuditLogs_Timestamp" ON "AuditLogs" ("Timestamp");
2025-12-15 23:12:31.507 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AuditLogs_UserId" ON "AuditLogs" ("UserId");
2025-12-15 23:12:31.508 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CorrectiveAction_IncidentId" ON "CorrectiveAction" ("IncidentId");
2025-12-15 23:12:31.508 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Devices_DeviceId" ON "Devices" ("DeviceId");
2025-12-15 23:12:31.509 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_IncidentComment_IncidentId" ON "IncidentComment" ("IncidentId");
2025-12-15 23:12:31.509 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_IncidentComment_UserId" ON "IncidentComment" ("UserId");
2025-12-15 23:12:31.509 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_AssignedTo" ON "Incidents" ("AssignedTo");
2025-12-15 23:12:31.510 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_CapturedAt" ON "Incidents" ("CapturedAt");
2025-12-15 23:12:31.510 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_CreatedBy" ON "Incidents" ("CreatedBy");
2025-12-15 23:12:31.510 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_DeviceId" ON "Incidents" ("DeviceId");
2025-12-15 23:12:31.511 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Incidents_ServerIncidentId" ON "Incidents" ("ServerIncidentId");
2025-12-15 23:12:31.511 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_Severity" ON "Incidents" ("Severity");
2025-12-15 23:12:31.512 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Incidents_Status" ON "Incidents" ("Status");
2025-12-15 23:12:31.512 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Models_Version" ON "Models" ("Version");
2025-12-15 23:12:31.513 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Tasks_AssignedToUserId" ON "Tasks" ("AssignedToUserId");
2025-12-15 23:12:31.513 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Tasks_IncidentId" ON "Tasks" ("IncidentId");
2025-12-15 23:12:31.513 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Tasks_Status" ON "Tasks" ("Status");
2025-12-15 23:12:31.514 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Users_Email" ON "Users" ("Email");
2025-12-15 23:12:31.514 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251215093027_InitialSchema', '10.0.0');
2025-12-15 23:12:31.612 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-15 23:12:31.697 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "FirstName", "IsActive", "LastLoginAt", "LastName", "PasswordHash", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2025-12-15 23:12:31.709 +05:30 [INF] User profile is available. Using '/Users/ankitkuniyal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-15 23:12:31.734 +05:30 [INF] Now listening on: http://[::]:5200
2025-12-15 23:12:31.735 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 23:12:31.735 +05:30 [INF] Hosting environment: Production
2025-12-15 23:12:31.735 +05:30 [INF] Content root path: /Users/ankitkuniyal/Documents/Coding/Projects/Hazard-Eye/backend/HazardEye.API
2025-12-15 23:12:31.786 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:12:37.736 +05:30 [INF] Application is shutting down...
2025-12-15 23:12:37.745 +05:30 [ERR] Error in notification worker
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at HazardEye.API.Services.NotificationWorker.ExecuteAsync(CancellationToken stoppingToken) in /Users/ankitkuniyal/Documents/Coding/Projects/Hazard-Eye/backend/HazardEye.API/Services/NotificationWorker.cs:line 41
2025-12-15 23:12:47.074 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 23:12:47.202 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-15 23:12:47.228 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 23:12:47.232 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 23:12:47.233 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 23:12:47.234 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 23:12:47.238 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-12-15 23:12:47.375 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-15 23:12:47.382 +05:30 [INF] User profile is available. Using '/Users/ankitkuniyal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-15 23:12:47.424 +05:30 [INF] Now listening on: http://[::]:5200
2025-12-15 23:12:47.425 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 23:12:47.425 +05:30 [INF] Hosting environment: Production
2025-12-15 23:12:47.425 +05:30 [INF] Content root path: /Users/ankitkuniyal/Documents/Coding/Projects/Hazard-Eye/backend/HazardEye.API
2025-12-15 23:12:47.493 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:13:25.372 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - null 0
2025-12-15 23:13:25.399 +05:30 [WRN] Failed to determine the https port for redirect.
2025-12-15 23:13:25.401 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:13:25.406 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - 204 null null 35.9445ms
2025-12-15 23:13:25.413 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/Auth/login - application/json 62
2025-12-15 23:13:25.416 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:13:25.444 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 23:13:25.460 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HazardEye.API.DTOs.LoginRequest) on controller HazardEye.API.Controllers.AuthController (HazardEye.API).
2025-12-15 23:13:25.569 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[@request_Email='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role"
FROM "Users" AS u
WHERE u."Email" = @request_Email AND u."IsActive"
LIMIT 1
2025-12-15 23:13:25.653 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "LastLoginAt" = @p0
WHERE "Id" = @p1;
2025-12-15 23:13:25.668 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=10.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-15 23:13:25.673 +05:30 [INF] Executed action HazardEye.API.Controllers.AuthController.Login (HazardEye.API) in 211.475ms
2025-12-15 23:13:25.674 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 23:13:25.676 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/Auth/login - 500 null application/json; charset=utf-8 262.6055ms
2025-12-15 23:13:47.545 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:14:47.590 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:15:05.503 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - null 0
2025-12-15 23:15:05.507 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:15:05.508 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - 204 null null 5.6221ms
2025-12-15 23:15:05.514 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/Auth/login - application/json 62
2025-12-15 23:15:05.517 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:15:05.520 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 23:15:05.535 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HazardEye.API.DTOs.LoginRequest) on controller HazardEye.API.Controllers.AuthController (HazardEye.API).
2025-12-15 23:15:05.557 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@request_Email='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role"
FROM "Users" AS u
WHERE u."Email" = @request_Email AND u."IsActive"
LIMIT 1
2025-12-15 23:15:05.571 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "LastLoginAt" = @p0
WHERE "Id" = @p1;
2025-12-15 23:15:05.590 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.LoginResponse'.
2025-12-15 23:15:05.593 +05:30 [INF] Executed action HazardEye.API.Controllers.AuthController.Login (HazardEye.API) in 57.5889ms
2025-12-15 23:15:05.593 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 23:15:05.593 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/Auth/login - 200 null application/json; charset=utf-8 79.6276ms
2025-12-15 23:15:05.653 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:15:05.653 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:15:05.653 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 0.4037ms
2025-12-15 23:15:05.657 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:15:05.657 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:15:05.686 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:15:05.689 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:15:05.729 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:15:05.734 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:15:05.742 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:15:05.751 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:15:05.753 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:15:05.756 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:15:05.758 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:15:05.759 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:15:05.760 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 71.0582ms
2025-12-15 23:15:05.760 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:15:05.760 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 102.7352ms
2025-12-15 23:15:05.817 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - null 0
2025-12-15 23:15:05.817 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:15:05.817 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - 204 null null 0.7267ms
2025-12-15 23:15:05.819 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:15:05.819 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:15:05.822 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:15:05.831 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:15:05.922 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:15:05.967 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:15:05.968 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:15:05.975 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 143.4749ms
2025-12-15 23:15:05.975 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:15:05.976 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 156.7715ms
2025-12-15 23:15:12.402 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - null 0
2025-12-15 23:15:12.412 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:15:12.413 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - 204 null null 11.1592ms
2025-12-15 23:15:12.418 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:15:12.419 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:15:12.422 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:15:12.423 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:15:12.438 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:15:12.440 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:15:12.441 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:15:12.441 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 17.3943ms
2025-12-15 23:15:12.441 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:15:12.441 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 22.7049ms
2025-12-15 23:15:13.450 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:15:13.450 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:15:13.452 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 1.8933ms
2025-12-15 23:15:13.454 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:15:13.454 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:15:13.455 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:15:13.455 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:15:13.458 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:15:13.459 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:15:13.460 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:15:13.460 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:15:13.461 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:15:13.461 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:15:13.462 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:15:13.462 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:15:13.462 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 7.2512ms
2025-12-15 23:15:13.462 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:15:13.463 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 8.5364ms
2025-12-15 23:15:13.485 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:15:13.485 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:15:13.486 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:15:13.486 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:15:13.496 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:15:13.497 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:15:13.497 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:15:13.497 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 11.208ms
2025-12-15 23:15:13.497 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:15:13.498 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 12.5738ms
2025-12-15 23:15:47.606 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:16:47.621 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:17:47.673 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:18:47.694 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:19:47.708 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:20:47.752 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:20:48.637 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - null 0
2025-12-15 23:20:48.638 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:20:48.639 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - 204 null null 1.7566ms
2025-12-15 23:20:48.643 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:20:48.643 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:20:48.645 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:20:48.647 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:20:48.663 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:20:48.668 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:20:48.668 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:20:48.670 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 22.9028ms
2025-12-15 23:20:48.670 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:20:48.670 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 27.133ms
2025-12-15 23:20:50.142 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:20:50.142 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:20:50.143 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 0.777ms
2025-12-15 23:20:50.145 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:20:50.145 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:20:50.146 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:20:50.146 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:20:50.150 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:20:50.152 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:20:50.153 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:20:50.155 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:20:50.155 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:20:50.156 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:20:50.156 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:20:50.157 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:20:50.157 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 11.0511ms
2025-12-15 23:20:50.157 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:20:50.157 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 12.2233ms
2025-12-15 23:20:50.181 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:20:50.182 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:20:50.184 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:20:50.184 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:20:50.189 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:20:50.191 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:20:50.191 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:20:50.192 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 6.8216ms
2025-12-15 23:20:50.192 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:20:50.192 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 10.3965ms
2025-12-15 23:21:47.801 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:22:47.864 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:23:47.903 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:24:47.919 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:25:47.944 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:26:47.956 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:27:48.036 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:28:36.276 +05:30 [INF] Application is shutting down...
2025-12-15 23:28:36.322 +05:30 [ERR] Error in notification worker
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at HazardEye.API.Services.NotificationWorker.ExecuteAsync(CancellationToken stoppingToken)
2025-12-15 23:31:21.086 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 23:31:21.303 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-15 23:31:21.335 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 23:31:21.341 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 23:31:21.342 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 23:31:21.343 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 23:31:21.348 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-12-15 23:31:21.463 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-15 23:31:21.473 +05:30 [INF] User profile is available. Using '/Users/ankitkuniyal/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-15 23:31:21.504 +05:30 [INF] Now listening on: http://[::]:5200
2025-12-15 23:31:21.505 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 23:31:21.505 +05:30 [INF] Hosting environment: Production
2025-12-15 23:31:21.505 +05:30 [INF] Content root path: /Users/ankitkuniyal/Documents/Coding/Projects/Hazard-Eye/backend/HazardEye.API
2025-12-15 23:31:21.566 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."C2025-12-15 23:31:21.616 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-15 23:31:21.639 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistor2025-12-15 23:32:21.680 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:33:14.053 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:33:14.094 +05:30 [WRN] Failed to determine the https port for redirect.
2025-12-15 23:33:14.100 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:33:14.106 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 55.3765ms
2025-12-15 23:33:14.108 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:33:14.111 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:33:14.185 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:33:14.201 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:33:14.271 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:33:14.276 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:33:14.283 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:33:14.293 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:33:14.295 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:33:14.297 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:33:14.299 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:33:14.302 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:33:14.316 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 112.9751ms
2025-12-15 23:33:14.317 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:33:14.322 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 213.3422ms
2025-12-15 23:33:14.361 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - null 0
2025-12-15 23:33:14.362 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:33:14.362 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - 204 null null 1.5027ms
2025-12-15 23:33:14.365 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:33:14.366 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:33:14.373 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:33:14.417 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:33:14.526 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:33:14.579 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:33:14.580 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:33:14.591 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 172.6116ms
2025-12-15 23:33:14.591 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:33:14.591 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 226.1995ms
2025-12-15 23:33:21.150 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - null 0
2025-12-15 23:33:21.154 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:33:21.154 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - 204 null null 4.4559ms
2025-12-15 23:33:21.157 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:33:21.157 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:33:21.163 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:33:21.164 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:33:21.178 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:33:21.183 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:33:21.185 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:33:21.187 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 23.6137ms
2025-12-15 23:33:21.188 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:33:21.188 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 30.89ms
2025-12-15 23:33:21.690 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:33:23.034 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:33:23.035 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:33:23.036 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 2.3946ms
2025-12-15 23:33:23.038 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:33:23.038 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:33:23.040 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:33:23.041 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:33:23.053 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:33:23.054 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:33:23.054 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:33:23.055 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:33:23.055 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:33:23.056 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:33:23.056 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:33:23.056 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:33:23.057 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 15.8645ms
2025-12-15 23:33:23.057 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:33:23.057 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 18.7493ms
2025-12-15 23:33:23.077 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:33:23.078 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:33:23.078 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:33:23.078 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:33:23.097 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:33:23.099 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:33:23.099 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:33:23.100 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 21.2903ms
2025-12-15 23:33:23.100 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:33:23.100 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 22.3788ms
2025-12-15 23:34:21.729 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:34:24.462 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:34:24.463 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:34:24.463 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 1.113ms
2025-12-15 23:34:24.465 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:34:24.465 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:34:24.467 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:34:24.467 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:34:24.473 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:34:24.475 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:34:24.475 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:34:24.476 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:34:24.476 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:34:24.476 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:34:24.477 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:34:24.477 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:34:24.477 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 9.8604ms
2025-12-15 23:34:24.477 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:34:24.477 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 12.6947ms
2025-12-15 23:34:24.496 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - null 0
2025-12-15 23:34:24.496 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:34:24.496 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - 204 null null 0.2246ms
2025-12-15 23:34:24.497 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:34:24.498 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:34:24.498 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:34:24.498 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:34:24.511 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:34:24.517 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:34:24.518 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:34:24.518 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 20.3649ms
2025-12-15 23:34:24.519 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:34:24.519 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 21.2247ms
2025-12-15 23:34:52.381 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:34:52.385 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:34:52.394 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-15 23:34:52.401 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 23:34:52.402 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 401 0 null 21.577ms
2025-12-15 23:35:21.752 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:35:27.476 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - null 0
2025-12-15 23:35:27.478 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:35:27.479 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - 204 null null 3.1235ms
2025-12-15 23:35:27.484 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/Auth/login - application/json 62
2025-12-15 23:35:27.486 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:35:27.488 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 23:35:27.502 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HazardEye.API.DTOs.LoginRequest) on controller HazardEye.API.Controllers.AuthController (HazardEye.API).
2025-12-15 23:35:27.565 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@request_Email='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role"
FROM "Users" AS u
WHERE u."Email" = @request_Email AND u."IsActive"
LIMIT 1
2025-12-15 23:35:27.651 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "LastLoginAt" = @p0
WHERE "Id" = @p1;
2025-12-15 23:35:27.665 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.LoginResponse'.
2025-12-15 23:35:27.666 +05:30 [INF] Executed action HazardEye.API.Controllers.AuthController.Login (HazardEye.API) in 163.6079ms
2025-12-15 23:35:27.666 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 23:35:27.666 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/Auth/login - 200 null application/json; charset=utf-8 182.9399ms
2025-12-15 23:35:27.718 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:35:27.719 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:35:27.719 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 0.5149ms
2025-12-15 23:35:27.720 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:35:27.720 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:35:27.721 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:35:27.721 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:35:27.723 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:35:27.724 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:35:27.724 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:35:27.725 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:35:27.725 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:35:27.725 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:35:27.726 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:35:27.726 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:35:27.726 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 4.7823ms
2025-12-15 23:35:27.726 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:35:27.726 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 5.9397ms
2025-12-15 23:35:27.756 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - null 0
2025-12-15 23:35:27.756 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:35:27.756 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - 204 null null 0.2217ms
2025-12-15 23:35:27.757 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:35:27.757 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:35:27.758 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:35:27.758 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:35:27.774 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:35:27.777 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:35:27.778 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:35:27.778 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 20.276ms
2025-12-15 23:35:27.778 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:35:27.778 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 20.8294ms
2025-12-15 23:36:21.828 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:36:28.241 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:36:28.242 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:36:28.243 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 2.6927ms
2025-12-15 23:36:28.246 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:36:28.247 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:36:28.249 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:36:28.250 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:36:28.259 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:36:28.260 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:36:28.261 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:36:28.263 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:36:28.264 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:36:28.264 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:36:28.265 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:36:28.266 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:36:28.267 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 17.4109ms
2025-12-15 23:36:28.268 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:36:28.268 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 21.4078ms
2025-12-15 23:36:28.297 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - null 0
2025-12-15 23:36:28.297 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:36:28.297 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - 204 null null 0.2481ms
2025-12-15 23:36:28.298 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:36:28.298 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:36:28.298 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:36:28.298 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:36:28.312 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:36:28.315 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:36:28.316 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:36:28.316 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 17.3127ms
2025-12-15 23:36:28.316 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:36:28.316 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 18.2587ms
2025-12-15 23:37:21.853 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:37:35.681 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:37:35.683 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:37:35.683 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 2.5248ms
2025-12-15 23:37:35.687 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:37:35.687 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:37:35.694 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:37:35.695 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:37:35.702 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:37:35.704 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:37:35.705 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:37:35.706 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:37:35.706 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:37:35.707 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:37:35.707 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:37:35.710 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:37:35.710 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 14.8425ms
2025-12-15 23:37:35.710 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:37:35.710 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 23.577ms
2025-12-15 23:37:35.730 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - null 0
2025-12-15 23:37:35.730 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:37:35.730 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - 204 null null 0.3692ms
2025-12-15 23:37:35.731 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:37:35.731 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:37:35.732 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:37:35.732 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:37:35.753 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:37:35.761 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:37:35.761 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:37:35.764 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 32.6865ms
2025-12-15 23:37:35.765 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:37:35.765 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 33.6952ms
2025-12-15 23:37:48.375 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - null 0
2025-12-15 23:37:48.377 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:37:48.380 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - 204 null null 5.1587ms
2025-12-15 23:37:48.383 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:37:48.383 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:37:48.385 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:37:48.386 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:37:48.396 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:37:48.398 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:37:48.399 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:37:48.399 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 12.6869ms
2025-12-15 23:37:48.399 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:37:48.399 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 15.9978ms
2025-12-15 23:37:50.438 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:37:50.438 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:37:50.440 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 1.8781ms
2025-12-15 23:37:50.442 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:37:50.443 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:37:50.443 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:37:50.443 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:37:50.444 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:37:50.444 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:37:50.445 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:37:50.445 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:37:50.446 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:37:50.446 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:37:50.446 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:37:50.446 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:37:50.446 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 3.4237ms
2025-12-15 23:37:50.446 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:37:50.446 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 3.962ms
2025-12-15 23:37:50.469 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:37:50.470 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:37:50.470 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:37:50.470 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:37:50.477 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:37:50.478 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:37:50.479 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:37:50.479 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 8.8415ms
2025-12-15 23:37:50.479 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:37:50.479 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 10.4685ms
2025-12-15 23:38:21.864 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:39:21.895 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:40:21.912 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:40:37.676 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - null 0
2025-12-15 23:40:37.678 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:40:37.678 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - 204 null null 1.9975ms
2025-12-15 23:40:37.683 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:40:37.685 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:40:37.687 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:40:37.688 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:40:37.705 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:40:37.709 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:40:37.709 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:40:37.709 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 21.0447ms
2025-12-15 23:40:37.709 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:40:37.710 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 26.672ms
2025-12-15 23:40:38.949 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:40:38.950 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:40:38.950 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 0.3795ms
2025-12-15 23:40:38.952 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:40:38.952 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:40:38.953 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:40:38.953 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:40:38.955 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:40:38.955 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:40:38.956 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:40:38.956 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:40:38.957 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:40:38.957 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:40:38.958 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:40:38.958 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:40:38.958 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 5.066ms
2025-12-15 23:40:38.958 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:40:38.958 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 6.0009ms
2025-12-15 23:40:38.983 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:40:38.983 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:40:38.984 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:40:38.984 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:40:38.991 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:40:38.992 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:40:38.992 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:40:38.993 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 8.1581ms
2025-12-15 23:40:38.993 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:40:38.993 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 10.0742ms
2025-12-15 23:41:21.957 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:42:21.977 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:43:22.008 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:44:17.128 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:44:17.136 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:44:17.138 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 11.3252ms
2025-12-15 23:44:17.146 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:44:17.148 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:44:17.160 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:44:17.168 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:44:17.227 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:44:17.230 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:44:17.232 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:44:17.236 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:44:17.237 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:44:17.239 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:44:17.243 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:44:17.247 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:44:17.252 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 82.4274ms
2025-12-15 23:44:17.252 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:44:17.252 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 105.9387ms
2025-12-15 23:44:17.280 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - null 0
2025-12-15 23:44:17.280 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:44:17.280 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - 204 null null 0.2386ms
2025-12-15 23:44:17.283 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:44:17.283 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:44:17.284 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:44:17.284 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:44:17.334 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:44:17.341 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:44:17.341 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:44:17.341 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 57.3372ms
2025-12-15 23:44:17.341 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:44:17.341 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 58.8666ms
2025-12-15 23:44:21.698 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:44:21.711 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:44:21.723 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:44:21.724 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:44:21.739 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:44:21.741 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:44:21.741 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:44:21.742 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 17.9624ms
2025-12-15 23:44:21.742 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:44:21.742 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 46.1947ms
2025-12-15 23:44:22.012 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:44:22.862 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:44:22.862 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:44:22.863 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 0.9447ms
2025-12-15 23:44:22.865 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:44:22.865 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:44:22.867 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:44:22.867 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:44:22.872 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:44:22.872 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:44:22.873 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:44:22.875 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:44:22.875 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:44:22.875 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:44:22.876 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:44:22.876 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:44:22.876 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 9.1765ms
2025-12-15 23:44:22.876 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:44:22.876 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 11.7384ms
2025-12-15 23:44:22.901 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - null 0
2025-12-15 23:44:22.901 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:44:22.901 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/incidents? - 204 null null 0.7309ms
2025-12-15 23:44:22.904 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents? - null null
2025-12-15 23:44:22.905 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:44:22.906 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:44:22.906 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:44:22.920 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:44:22.922 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:44:22.923 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:44:22.923 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 16.8317ms
2025-12-15 23:44:22.923 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:44:22.923 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents? - 200 null application/json; charset=utf-8 18.3678ms
2025-12-15 23:45:22.043 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:46:22.092 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:47:22.148 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:48:22.196 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:49:22.225 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:50:22.256 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:51:10.247 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - null 0
2025-12-15 23:51:10.256 +05:30 [INF] CORS policy execution failed.
2025-12-15 23:51:10.265 +05:30 [INF] Request origin http://localhost:3000 does not have permission to access the resource.
2025-12-15 23:51:10.266 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - 204 null null 18.3286ms
2025-12-15 23:51:11.697 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - null 0
2025-12-15 23:51:11.697 +05:30 [INF] CORS policy execution failed.
2025-12-15 23:51:11.697 +05:30 [INF] Request origin http://localhost:3000 does not have permission to access the resource.
2025-12-15 23:51:11.697 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - 204 null null 0.5205ms
2025-12-15 23:51:22.311 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:51:22.369 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - null 0
2025-12-15 23:51:22.369 +05:30 [INF] CORS policy execution failed.
2025-12-15 23:51:22.369 +05:30 [INF] Request origin http://localhost:3000 does not have permission to access the resource.
2025-12-15 23:51:22.369 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - 204 null null 0.4341ms
2025-12-15 23:52:22.350 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:53:12.584 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:53:12.588 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:12.589 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 204 null null 5.096ms
2025-12-15 23:53:12.590 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:53:12.590 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:12.590 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 204 null null 0.1834ms
2025-12-15 23:53:12.591 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:53:12.591 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:12.591 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:53:12.592 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:12.600 +05:30 [INF] Executing endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:53:12.600 +05:30 [INF] Executing endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:53:12.625 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:53:12.625 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:12.625 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 0.1635ms
2025-12-15 23:53:12.627 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:53:12.627 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:12.627 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:53:12.628 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:53:12.656 +05:30 [INF] Executed endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:53:12.656 +05:30 [INF] Executed endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:53:12.656 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 200 316 application/json 64.1733ms
2025-12-15 23:53:12.656 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 200 316 application/json 65.0299ms
2025-12-15 23:53:12.656 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:53:12.658 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:53:12.658 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:53:12.660 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:53:12.662 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:53:12.662 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:53:12.663 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:53:12.663 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:53:12.663 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 35.1852ms
2025-12-15 23:53:12.663 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:53:12.663 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 36.4342ms
2025-12-15 23:53:12.665 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=hvZl6wnVbafsmuMvkKgoCg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhZG1pbkBoYXphcmRleWUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQWRtaW4iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiU3lzdGVtIEFkbWluIiwiZXhwIjoxNzY1ODI1NTI3LCJpc3MiOiJIYXphcmRFeWUiLCJhdWQiOiJIYXphcmRFeWVVc2VycyJ9.eAymBs5cUXoZ5SpmT9dVaVYtpqu_5D_F0hw-78xQRko - null null
2025-12-15 23:53:12.665 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:12.667 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-15 23:53:12.669 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 23:53:12.670 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=hvZl6wnVbafsmuMvkKgoCg&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhZG1pbkBoYXphcmRleWUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQWRtaW4iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiU3lzdGVtIEFkbWluIiwiZXhwIjoxNzY1ODI1NTI3LCJpc3MiOiJIYXphcmRFeWUiLCJhdWQiOiJIYXphcmRFeWVVc2VycyJ9.eAymBs5cUXoZ5SpmT9dVaVYtpqu_5D_F0hw-78xQRko - 401 0 null 4.4771ms
2025-12-15 23:53:22.365 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:53:23.252 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:53:23.252 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:23.253 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 204 null null 1.1993ms
2025-12-15 23:53:23.256 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:53:23.256 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:23.256 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 204 null null 0.335ms
2025-12-15 23:53:23.258 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:53:23.258 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:23.260 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:53:23.261 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:23.262 +05:30 [INF] Executing endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:53:23.262 +05:30 [INF] Executing endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:53:23.263 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:53:23.263 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:23.263 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 0.3813ms
2025-12-15 23:53:23.265 +05:30 [INF] Executed endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:53:23.265 +05:30 [INF] Executed endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:53:23.265 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 200 316 application/json 4.3788ms
2025-12-15 23:53:23.265 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 200 316 application/json 6.7485ms
2025-12-15 23:53:23.265 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:53:23.266 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:23.266 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:53:23.267 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:53:23.270 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:53:23.271 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:53:23.272 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:53:23.273 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:53:23.274 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:53:23.274 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:53:23.275 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:53:23.275 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:53:23.276 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 8.8293ms
2025-12-15 23:53:23.276 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:53:23.276 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 10.4398ms
2025-12-15 23:53:23.281 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=2Of6MHgkGIPhiH0y-M8qxQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhZG1pbkBoYXphcmRleWUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQWRtaW4iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiU3lzdGVtIEFkbWluIiwiZXhwIjoxNzY1ODI1NTI3LCJpc3MiOiJIYXphcmRFeWUiLCJhdWQiOiJIYXphcmRFeWVVc2VycyJ9.eAymBs5cUXoZ5SpmT9dVaVYtpqu_5D_F0hw-78xQRko - null null
2025-12-15 23:53:23.282 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:23.282 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-15 23:53:23.283 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 23:53:23.283 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=2Of6MHgkGIPhiH0y-M8qxQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhZG1pbkBoYXphcmRleWUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQWRtaW4iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiU3lzdGVtIEFkbWluIiwiZXhwIjoxNzY1ODI1NTI3LCJpc3MiOiJIYXphcmRFeWUiLCJhdWQiOiJIYXphcmRFeWVVc2VycyJ9.eAymBs5cUXoZ5SpmT9dVaVYtpqu_5D_F0hw-78xQRko - 401 0 null 1.4445ms
2025-12-15 23:53:32.105 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:53:32.106 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:53:32.107 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:32.107 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:32.107 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 204 null null 2.8995ms
2025-12-15 23:53:32.107 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 204 null null 1.6653ms
2025-12-15 23:53:32.110 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:53:32.110 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:32.111 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:53:32.111 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:32.116 +05:30 [INF] Executing endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:53:32.116 +05:30 [INF] Executing endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:53:32.118 +05:30 [INF] Executed endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:53:32.118 +05:30 [INF] Executed endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:53:32.118 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 200 316 application/json 6.527ms
2025-12-15 23:53:32.118 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 200 316 application/json 7.9472ms
2025-12-15 23:53:32.142 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=3vDRPTR5ChTlVKyJJ5yc4g&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhZG1pbkBoYXphcmRleWUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQWRtaW4iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiU3lzdGVtIEFkbWluIiwiZXhwIjoxNzY1ODI1NTI3LCJpc3MiOiJIYXphcmRFeWUiLCJhdWQiOiJIYXphcmRFeWVVc2VycyJ9.eAymBs5cUXoZ5SpmT9dVaVYtpqu_5D_F0hw-78xQRko - null null
2025-12-15 23:53:32.142 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:32.143 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-15 23:53:32.143 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 23:53:32.143 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=3vDRPTR5ChTlVKyJJ5yc4g&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhZG1pbkBoYXphcmRleWUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQWRtaW4iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiU3lzdGVtIEFkbWluIiwiZXhwIjoxNzY1ODI1NTI3LCJpc3MiOiJIYXphcmRFeWUiLCJhdWQiOiJIYXphcmRFeWVVc2VycyJ9.eAymBs5cUXoZ5SpmT9dVaVYtpqu_5D_F0hw-78xQRko - 401 0 null 0.7265ms
2025-12-15 23:53:32.145 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:53:32.145 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:32.145 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 0.2461ms
2025-12-15 23:53:32.147 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:53:32.147 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:32.147 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:53:32.148 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:53:32.156 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:53:32.156 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:53:32.157 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:53:32.157 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:53:32.158 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:53:32.158 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:53:32.158 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:53:32.159 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:53:32.159 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 11.2378ms
2025-12-15 23:53:32.159 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:53:32.159 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 12.1357ms
2025-12-15 23:53:54.772 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:53:54.772 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:53:54.772 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:53:54.774 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:54.774 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:54.774 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:54.775 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 204 null null 2.3869ms
2025-12-15 23:53:54.775 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 2.2844ms
2025-12-15 23:53:54.780 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 204 null null 7.6945ms
2025-12-15 23:53:54.781 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:53:54.781 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:54.782 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:53:54.783 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:54.786 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:53:54.786 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:54.787 +05:30 [INF] Executing endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:53:54.787 +05:30 [INF] Executing endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:53:54.787 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:53:54.793 +05:30 [INF] Executed endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:53:54.793 +05:30 [INF] Executed endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:53:54.793 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 200 316 application/json 10.724ms
2025-12-15 23:53:54.793 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 200 316 application/json 12.4985ms
2025-12-15 23:53:54.794 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:53:54.834 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:53:54.835 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=oSS69EvUwu1IZiNop-HHlQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhZG1pbkBoYXphcmRleWUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQWRtaW4iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiU3lzdGVtIEFkbWluIiwiZXhwIjoxNzY1ODI1NTI3LCJpc3MiOiJIYXphcmRFeWUiLCJhdWQiOiJIYXphcmRFeWVVc2VycyJ9.eAymBs5cUXoZ5SpmT9dVaVYtpqu_5D_F0hw-78xQRko - null null
2025-12-15 23:53:54.835 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:53:54.835 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-15 23:53:54.835 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 23:53:54.835 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=oSS69EvUwu1IZiNop-HHlQ&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhZG1pbkBoYXphcmRleWUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQWRtaW4iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiU3lzdGVtIEFkbWluIiwiZXhwIjoxNzY1ODI1NTI3LCJpc3MiOiJIYXphcmRFeWUiLCJhdWQiOiJIYXphcmRFeWVVc2VycyJ9.eAymBs5cUXoZ5SpmT9dVaVYtpqu_5D_F0hw-78xQRko - 401 0 null 0.3688ms
2025-12-15 23:53:54.837 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:53:54.838 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:53:54.842 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:53:54.843 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:53:54.844 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:53:54.845 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:53:54.845 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:53:54.845 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 50.9493ms
2025-12-15 23:53:54.845 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:53:54.845 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 59.3382ms
2025-12-15 23:54:22.397 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:55:22.444 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:55:46.215 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:55:46.215 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:55:46.215 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.215 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.216 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 204 null null 1.1107ms
2025-12-15 23:55:46.216 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 204 null null 0.9825ms
2025-12-15 23:55:46.218 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:55:46.218 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.218 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:55:46.218 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.223 +05:30 [INF] Executing endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:55:46.223 +05:30 [INF] Executing endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:55:46.226 +05:30 [INF] Executed endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:55:46.226 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 200 316 application/json 7.6355ms
2025-12-15 23:55:46.226 +05:30 [INF] Executed endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:55:46.226 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 200 316 application/json 8.2897ms
2025-12-15 23:55:46.251 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=nuf41O_aKYmfPZLGaoTeig&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhZG1pbkBoYXphcmRleWUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQWRtaW4iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiU3lzdGVtIEFkbWluIiwiZXhwIjoxNzY1ODI1NTI3LCJpc3MiOiJIYXphcmRFeWUiLCJhdWQiOiJIYXphcmRFeWVVc2VycyJ9.eAymBs5cUXoZ5SpmT9dVaVYtpqu_5D_F0hw-78xQRko - null null
2025-12-15 23:55:46.251 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.251 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-15 23:55:46.251 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 23:55:46.251 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=nuf41O_aKYmfPZLGaoTeig&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhZG1pbkBoYXphcmRleWUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQWRtaW4iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiU3lzdGVtIEFkbWluIiwiZXhwIjoxNzY1ODI1NTI3LCJpc3MiOiJIYXphcmRFeWUiLCJhdWQiOiJIYXphcmRFeWVVc2VycyJ9.eAymBs5cUXoZ5SpmT9dVaVYtpqu_5D_F0hw-78xQRko - 401 0 null 0.6304ms
2025-12-15 23:55:46.257 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:55:46.257 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.257 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 0.2853ms
2025-12-15 23:55:46.259 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:55:46.259 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.259 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:55:46.260 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:55:46.286 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:55:46.288 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:55:46.289 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:55:46.290 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:55:46.290 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:55:46.290 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:55:46.291 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:55:46.291 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:55:46.293 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 32.2445ms
2025-12-15 23:55:46.293 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:55:46.293 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 34.1122ms
2025-12-15 23:55:46.353 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:55:46.353 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.353 +05:30 [INF] Executing endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:55:46.353 +05:30 [INF] Executed endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:55:46.353 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 200 316 application/json 0.4988ms
2025-12-15 23:55:46.363 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=YryXQUJw5BleYWhaqnjApw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhZG1pbkBoYXphcmRleWUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQWRtaW4iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiU3lzdGVtIEFkbWluIiwiZXhwIjoxNzY1ODI1NTI3LCJpc3MiOiJIYXphcmRFeWUiLCJhdWQiOiJIYXphcmRFeWVVc2VycyJ9.eAymBs5cUXoZ5SpmT9dVaVYtpqu_5D_F0hw-78xQRko - null null
2025-12-15 23:55:46.363 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.363 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-15 23:55:46.363 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 23:55:46.363 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=YryXQUJw5BleYWhaqnjApw&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhZG1pbkBoYXphcmRleWUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQWRtaW4iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiU3lzdGVtIEFkbWluIiwiZXhwIjoxNzY1ODI1NTI3LCJpc3MiOiJIYXphcmRFeWUiLCJhdWQiOiJIYXphcmRFeWVVc2VycyJ9.eAymBs5cUXoZ5SpmT9dVaVYtpqu_5D_F0hw-78xQRko - 401 0 null 0.26ms
2025-12-15 23:55:46.374 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:55:46.374 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.375 +05:30 [INF] Executing endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:55:46.375 +05:30 [INF] Executed endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:55:46.375 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 200 316 application/json 0.5215ms
2025-12-15 23:55:46.382 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard?id=dfzCH-WXjOFB7dipaCCBNA&_=1765823146376 - null 0
2025-12-15 23:55:46.382 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.382 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard?id=dfzCH-WXjOFB7dipaCCBNA&_=1765823146376 - 204 null null 0.1394ms
2025-12-15 23:55:46.384 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=dfzCH-WXjOFB7dipaCCBNA&_=1765823146376 - null null
2025-12-15 23:55:46.384 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.384 +05:30 [INF] Executing endpoint '/hubs/dashboard'
2025-12-15 23:55:46.418 +05:30 [INF] Executed endpoint '/hubs/dashboard'
2025-12-15 23:55:46.418 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=dfzCH-WXjOFB7dipaCCBNA&_=1765823146376 - 200 0 application/octet-stream 34.0612ms
2025-12-15 23:55:46.424 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard?id=dfzCH-WXjOFB7dipaCCBNA&_=1765823146418 - null 0
2025-12-15 23:55:46.424 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.424 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard?id=dfzCH-WXjOFB7dipaCCBNA&_=1765823146418 - 204 null null 0.1605ms
2025-12-15 23:55:46.425 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=dfzCH-WXjOFB7dipaCCBNA&_=1765823146418 - null null
2025-12-15 23:55:46.425 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.425 +05:30 [INF] Executing endpoint '/hubs/dashboard'
2025-12-15 23:55:46.430 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard?id=dfzCH-WXjOFB7dipaCCBNA - null 0
2025-12-15 23:55:46.430 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.431 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard?id=dfzCH-WXjOFB7dipaCCBNA - 204 null null 0.1557ms
2025-12-15 23:55:46.432 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/hubs/dashboard?id=dfzCH-WXjOFB7dipaCCBNA - text/plain;charset=UTF-8 32
2025-12-15 23:55:46.433 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.433 +05:30 [INF] Executing endpoint '/hubs/dashboard'
2025-12-15 23:55:46.436 +05:30 [INF] Executed endpoint '/hubs/dashboard'
2025-12-15 23:55:46.436 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/hubs/dashboard?id=dfzCH-WXjOFB7dipaCCBNA - 200 0 text/plain 4.1348ms
2025-12-15 23:55:46.445 +05:30 [INF] Executed endpoint '/hubs/dashboard'
2025-12-15 23:55:46.446 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=dfzCH-WXjOFB7dipaCCBNA&_=1765823146418 - 200 3 application/octet-stream 20.9762ms
2025-12-15 23:55:46.452 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard?id=dfzCH-WXjOFB7dipaCCBNA&_=1765823146446 - null 0
2025-12-15 23:55:46.452 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.453 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard?id=dfzCH-WXjOFB7dipaCCBNA&_=1765823146446 - 204 null null 0.2284ms
2025-12-15 23:55:46.454 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=dfzCH-WXjOFB7dipaCCBNA&_=1765823146446 - null null
2025-12-15 23:55:46.455 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.455 +05:30 [INF] Executing endpoint '/hubs/dashboard'
2025-12-15 23:55:46.468 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:55:46.468 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:46.468 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:55:46.468 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:55:46.470 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:55:46.470 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:55:46.471 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:55:46.471 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:55:46.471 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:55:46.472 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:55:46.472 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:55:46.472 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:55:46.472 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 3.5036ms
2025-12-15 23:55:46.472 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:55:46.472 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 4.3237ms
2025-12-15 23:55:52.543 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/incidents - null 0
2025-12-15 23:55:52.543 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:52.544 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/incidents - 204 null null 1.0462ms
2025-12-15 23:55:52.546 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents - null null
2025-12-15 23:55:52.547 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:52.549 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:55:52.550 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:55:52.595 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:55:52.606 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:55:52.606 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:55:52.606 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 55.854ms
2025-12-15 23:55:52.606 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:55:52.606 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents - 200 null application/json; charset=utf-8 60.3311ms
2025-12-15 23:55:53.982 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:55:53.982 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:53.982 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 0.2509ms
2025-12-15 23:55:53.989 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:55:53.989 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:55:53.989 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:55:53.990 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:55:53.993 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:55:53.996 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:55:53.997 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:55:53.998 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:55:53.998 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:55:53.999 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:55:53.999 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:55:53.999 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:55:53.999 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 8.7045ms
2025-12-15 23:55:53.999 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:55:53.999 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 10.7413ms
2025-12-15 23:56:11.326 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/incidents - null 0
2025-12-15 23:56:11.327 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:56:11.328 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/incidents - 204 null null 2.4549ms
2025-12-15 23:56:11.330 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents - null null
2025-12-15 23:56:11.331 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:56:11.333 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:56:11.335 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:56:11.349 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:56:11.351 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:56:11.351 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:56:11.351 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 15.2515ms
2025-12-15 23:56:11.351 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:56:11.351 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents - 200 null application/json; charset=utf-8 20.9975ms
2025-12-15 23:56:12.540 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:56:12.540 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:56:12.541 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 0.3739ms
2025-12-15 23:56:12.544 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:56:12.544 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:56:12.544 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:56:12.545 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:56:12.546 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:56:12.547 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:56:12.548 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:56:12.549 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:56:12.549 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:56:12.549 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:56:12.550 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:56:12.550 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:56:12.551 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 5.8291ms
2025-12-15 23:56:12.551 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:56:12.551 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 6.7993ms
2025-12-15 23:56:22.484 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:57:04.548 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - null 0
2025-12-15 23:57:04.550 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:04.551 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/Auth/login - 204 null null 2.8885ms
2025-12-15 23:57:04.554 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/Auth/login - application/json 62
2025-12-15 23:57:04.554 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:04.557 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 23:57:04.558 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HazardEye.API.DTOs.LoginRequest) on controller HazardEye.API.Controllers.AuthController (HazardEye.API).
2025-12-15 23:57:04.599 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@request_Email='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role"
FROM "Users" AS u
WHERE u."Email" = @request_Email AND u."IsActive"
LIMIT 1
2025-12-15 23:57:04.625 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "LastLoginAt" = @p0
WHERE "Id" = @p1;
2025-12-15 23:57:04.627 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.LoginResponse'.
2025-12-15 23:57:04.627 +05:30 [INF] Executed action HazardEye.API.Controllers.AuthController.Login (HazardEye.API) in 68.4387ms
2025-12-15 23:57:04.627 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.AuthController.Login (HazardEye.API)'
2025-12-15 23:57:04.627 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/Auth/login - 200 null application/json; charset=utf-8 72.8098ms
2025-12-15 23:57:04.665 +05:30 [INF] Executed endpoint '/hubs/dashboard'
2025-12-15 23:57:04.666 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=dfzCH-WXjOFB7dipaCCBNA&_=1765823146446 - 499 null null 78213.3617ms
2025-12-15 23:57:05.518 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:57:05.518 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:05.518 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 204 null null 0.4289ms
2025-12-15 23:57:05.519 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:57:05.519 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:05.523 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:57:05.523 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:05.527 +05:30 [INF] Executing endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:57:05.527 +05:30 [INF] Executing endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:57:05.529 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:57:05.529 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:05.529 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 0.1582ms
2025-12-15 23:57:05.530 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:57:05.530 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:05.530 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:57:05.530 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:57:05.534 +05:30 [INF] Executed endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:57:05.534 +05:30 [INF] Executed endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:57:05.534 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 200 316 application/json 11.5802ms
2025-12-15 23:57:05.534 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 200 316 application/json 14.9206ms
2025-12-15 23:57:05.535 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:57:05.537 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:57:05.538 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:57:05.539 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:57:05.539 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:57:05.540 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:57:05.540 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:57:05.540 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:57:05.540 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 10.1417ms
2025-12-15 23:57:05.540 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:57:05.540 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 10.5896ms
2025-12-15 23:57:05.546 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=HsPZhtsttk0NjDmqzdGc6Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhZG1pbkBoYXphcmRleWUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQWRtaW4iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiU3lzdGVtIEFkbWluIiwiZXhwIjoxNzY1ODI2ODI0LCJpc3MiOiJIYXphcmRFeWUiLCJhdWQiOiJIYXphcmRFeWVVc2VycyJ9.6_AVH_0hxZTejdUhlIoZTZ9Acb0XnQgqTGcjNiibsQI - null null
2025-12-15 23:57:05.546 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:05.547 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-15 23:57:05.547 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 23:57:05.547 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=HsPZhtsttk0NjDmqzdGc6Q&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhZG1pbkBoYXphcmRleWUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQWRtaW4iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiU3lzdGVtIEFkbWluIiwiZXhwIjoxNzY1ODI2ODI0LCJpc3MiOiJIYXphcmRFeWUiLCJhdWQiOiJIYXphcmRFeWVVc2VycyJ9.6_AVH_0hxZTejdUhlIoZTZ9Acb0XnQgqTGcjNiibsQI - 401 0 null 0.8674ms
2025-12-15 23:57:05.598 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:57:05.598 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:05.599 +05:30 [INF] Executing endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:57:05.599 +05:30 [INF] Executed endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:57:05.599 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 200 316 application/json 1.1577ms
2025-12-15 23:57:05.610 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=pN-DZ8Q2smajlJaWnPj7oA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhZG1pbkBoYXphcmRleWUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQWRtaW4iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiU3lzdGVtIEFkbWluIiwiZXhwIjoxNzY1ODI2ODI0LCJpc3MiOiJIYXphcmRFeWUiLCJhdWQiOiJIYXphcmRFeWVVc2VycyJ9.6_AVH_0hxZTejdUhlIoZTZ9Acb0XnQgqTGcjNiibsQI - null null
2025-12-15 23:57:05.610 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:05.610 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-15 23:57:05.610 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 23:57:05.610 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=pN-DZ8Q2smajlJaWnPj7oA&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhZG1pbkBoYXphcmRleWUuY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQWRtaW4iLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiU3lzdGVtIEFkbWluIiwiZXhwIjoxNzY1ODI2ODI0LCJpc3MiOiJIYXphcmRFeWUiLCJhdWQiOiJIYXphcmRFeWVVc2VycyJ9.6_AVH_0hxZTejdUhlIoZTZ9Acb0XnQgqTGcjNiibsQI - 401 0 null 0.7053ms
2025-12-15 23:57:05.617 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - null 0
2025-12-15 23:57:05.617 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:05.617 +05:30 [INF] Executing endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:57:05.618 +05:30 [INF] Executed endpoint '/hubs/dashboard/negotiate'
2025-12-15 23:57:05.618 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/hubs/dashboard/negotiate?negotiateVersion=1 - 200 316 application/json 0.4049ms
2025-12-15 23:57:05.624 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw&_=1765823225618 - null 0
2025-12-15 23:57:05.624 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:05.624 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw&_=1765823225618 - 204 null null 0.1115ms
2025-12-15 23:57:05.625 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw&_=1765823225618 - null null
2025-12-15 23:57:05.625 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:05.625 +05:30 [INF] Executing endpoint '/hubs/dashboard'
2025-12-15 23:57:05.627 +05:30 [INF] Executed endpoint '/hubs/dashboard'
2025-12-15 23:57:05.627 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw&_=1765823225618 - 200 0 application/octet-stream 2.0023ms
2025-12-15 23:57:05.634 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw&_=1765823225628 - null 0
2025-12-15 23:57:05.634 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:05.634 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw&_=1765823225628 - 204 null null 0.1766ms
2025-12-15 23:57:05.635 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw&_=1765823225628 - null null
2025-12-15 23:57:05.635 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:05.635 +05:30 [INF] Executing endpoint '/hubs/dashboard'
2025-12-15 23:57:05.639 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw - null 0
2025-12-15 23:57:05.639 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:05.639 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw - 204 null null 0.1053ms
2025-12-15 23:57:05.640 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw - text/plain;charset=UTF-8 32
2025-12-15 23:57:05.640 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:05.641 +05:30 [INF] Executing endpoint '/hubs/dashboard'
2025-12-15 23:57:05.641 +05:30 [INF] Executed endpoint '/hubs/dashboard'
2025-12-15 23:57:05.641 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw - 200 0 text/plain 0.7817ms
2025-12-15 23:57:05.642 +05:30 [INF] Executed endpoint '/hubs/dashboard'
2025-12-15 23:57:05.643 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw&_=1765823225628 - 200 3 application/octet-stream 7.4077ms
2025-12-15 23:57:05.650 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw&_=1765823225644 - null 0
2025-12-15 23:57:05.650 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:05.650 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw&_=1765823225644 - 204 null null 0.2764ms
2025-12-15 23:57:05.653 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw&_=1765823225644 - null null
2025-12-15 23:57:05.653 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:05.654 +05:30 [INF] Executing endpoint '/hubs/dashboard'
2025-12-15 23:57:05.663 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:57:05.663 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:05.663 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:57:05.663 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:57:05.664 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:57:05.665 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:57:05.665 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:57:05.665 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:57:05.666 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:57:05.666 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:57:05.666 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:57:05.666 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:57:05.666 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 3.2727ms
2025-12-15 23:57:05.666 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:57:05.667 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 3.7083ms
2025-12-15 23:57:09.282 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/auth/users - null 0
2025-12-15 23:57:09.284 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:09.287 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/auth/users - 204 null null 3.4042ms
2025-12-15 23:57:09.290 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/auth/users - null null
2025-12-15 23:57:09.290 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:09.292 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.AuthController.GetUsers (HazardEye.API)'
2025-12-15 23:57:09.306 +05:30 [INF] Route matched with {action = "GetUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HazardEye.API.DTOs.UserDto]]] GetUsers() on controller HazardEye.API.Controllers.AuthController (HazardEye.API).
2025-12-15 23:57:09.355 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."FirstName", u."LastName", u."Role"::text AS "Role"
FROM "Users" AS u
2025-12-15 23:57:09.355 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HazardEye.API.DTOs.UserDto, HazardEye.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 23:57:09.360 +05:30 [INF] Executed action HazardEye.API.Controllers.AuthController.GetUsers (HazardEye.API) in 53.6475ms
2025-12-15 23:57:09.360 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.AuthController.GetUsers (HazardEye.API)'
2025-12-15 23:57:09.360 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/auth/users - 200 null application/json; charset=utf-8 70.5911ms
2025-12-15 23:57:14.533 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - null 0
2025-12-15 23:57:14.534 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:14.534 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/dashboard/summary - 204 null null 1.2721ms
2025-12-15 23:57:14.538 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:57:14.538 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:14.539 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:57:14.539 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:57:14.541 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:57:14.542 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:57:14.543 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:57:14.544 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:57:14.545 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:57:14.545 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:57:14.546 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:57:14.546 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:57:14.546 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 7.2907ms
2025-12-15 23:57:14.546 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:57:14.546 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 8.7115ms
2025-12-15 23:57:15.478 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/incidents - null 0
2025-12-15 23:57:15.478 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:15.478 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/incidents - 204 null null 0.5088ms
2025-12-15 23:57:15.480 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/incidents - null null
2025-12-15 23:57:15.480 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:15.481 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:57:15.481 +05:30 [INF] Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.IncidentListResponse]] GetIncidents(HazardEye.API.DTOs.IncidentFilterRequest) on controller HazardEye.API.Controllers.IncidentsController (HazardEye.API).
2025-12-15 23:57:15.490 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:57:15.493 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT i0."Id", i0."Advisory", i0."AssignedTo", i0."CapturedAt", i0."Category", i0."ClosedAt", i0."CreatedAt", i0."CreatedBy", i0."DeviceId", i0."IncidentId", i0."MediaUris", i0."MlMetadata", i0."Note", i0."ResolvedAt", i0."ServerIncidentId", i0."Severity", i0."Status", u."Id", u."CreatedAt", u."Email", u."FirstName", u."IsActive", u."LastLoginAt", u."LastName", u."PasswordHash", u."Role", u0."Id", u0."CreatedAt", u0."Email", u0."FirstName", u0."IsActive", u0."LastLoginAt", u0."LastName", u0."PasswordHash", u0."Role"
FROM (
    SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
    FROM "Incidents" AS i
    ORDER BY i."CapturedAt" DESC
    LIMIT @p0 OFFSET @p
) AS i0
LEFT JOIN "Users" AS u ON i0."AssignedTo" = u."Id"
INNER JOIN "Users" AS u0 ON i0."CreatedBy" = u0."Id"
ORDER BY i0."CapturedAt" DESC
2025-12-15 23:57:15.493 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.DTOs.IncidentListResponse'.
2025-12-15 23:57:15.493 +05:30 [INF] Executed action HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API) in 11.9814ms
2025-12-15 23:57:15.493 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.IncidentsController.GetIncidents (HazardEye.API)'
2025-12-15 23:57:15.494 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/incidents - 200 null application/json; charset=utf-8 13.2156ms
2025-12-15 23:57:16.347 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/api/auth/users - null 0
2025-12-15 23:57:16.347 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:16.347 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/api/auth/users - 204 null null 0.3443ms
2025-12-15 23:57:16.352 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/auth/users - null null
2025-12-15 23:57:16.352 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:16.352 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.AuthController.GetUsers (HazardEye.API)'
2025-12-15 23:57:16.352 +05:30 [INF] Route matched with {action = "GetUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[HazardEye.API.DTOs.UserDto]]] GetUsers() on controller HazardEye.API.Controllers.AuthController (HazardEye.API).
2025-12-15 23:57:16.354 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."FirstName", u."LastName", u."Role"::text AS "Role"
FROM "Users" AS u
2025-12-15 23:57:16.354 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HazardEye.API.DTOs.UserDto, HazardEye.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 23:57:16.354 +05:30 [INF] Executed action HazardEye.API.Controllers.AuthController.GetUsers (HazardEye.API) in 2.0057ms
2025-12-15 23:57:16.354 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.AuthController.GetUsers (HazardEye.API)'
2025-12-15 23:57:16.355 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/auth/users - 200 null application/json; charset=utf-8 2.6025ms
2025-12-15 23:57:16.906 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - null null
2025-12-15 23:57:16.907 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:57:16.907 +05:30 [INF] Executing endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:57:16.907 +05:30 [INF] Route matched with {action = "GetStats", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HazardEye.API.DTOs.DashboardStatsDto]] GetStats() on controller HazardEye.API.Controllers.DashboardController (HazardEye.API).
2025-12-15 23:57:16.909 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@today='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE date_trunc('day', i."CapturedAt", 'UTC') = @today
2025-12-15 23:57:16.909 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" <> 'Closed' AND i."Severity" IN ('High', 'Critical')
2025-12-15 23:57:16.910 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."ResolvedAt" IS NOT NULL
2025-12-15 23:57:16.911 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@offlineThreshold='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Devices" AS d
WHERE d."Status" = 'Active' AND (d."LastSeen" IS NULL OR d."LastSeen" < @offlineThreshold)
2025-12-15 23:57:16.911 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
2025-12-15 23:57:16.912 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" NOT IN ('Closed', 'Resolved')
2025-12-15 23:57:16.913 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Incidents" AS i
WHERE i."Status" IN ('Closed', 'Resolved')
2025-12-15 23:57:16.913 +05:30 [INF] Executing OkObjectResult, writing value of type 'HazardEye.API.Services.DashboardStatsDto'.
2025-12-15 23:57:16.913 +05:30 [INF] Executed action HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API) in 5.7206ms
2025-12-15 23:57:16.913 +05:30 [INF] Executed endpoint 'HazardEye.API.Controllers.DashboardController.GetStats (HazardEye.API)'
2025-12-15 23:57:16.913 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/dashboard/summary - 200 null application/json; charset=utf-8 6.8848ms
2025-12-15 23:57:22.488 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:58:22.521 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
2025-12-15 23:58:35.657 +05:30 [INF] Executed endpoint '/hubs/dashboard'
2025-12-15 23:58:35.657 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw&_=1765823225644 - 200 0 text/plain 90006.755ms
2025-12-15 23:58:35.739 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw&_=1765823315675 - null 0
2025-12-15 23:58:35.739 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:58:35.739 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw&_=1765823315675 - 204 null null 0.318ms
2025-12-15 23:58:35.741 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5200/hubs/dashboard?id=AbGwzhux4G4oBV4aH9OzRw&_=1765823315675 - null null
2025-12-15 23:58:35.741 +05:30 [INF] CORS policy execution successful.
2025-12-15 23:58:35.744 +05:30 [INF] Executing endpoint '/hubs/dashboard'
2025-12-15 23:59:22.559 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."Advisory", i."AssignedTo", i."CapturedAt", i."Category", i."ClosedAt", i."CreatedAt", i."CreatedBy", i."DeviceId", i."IncidentId", i."MediaUris", i."MlMetadata", i."Note", i."ResolvedAt", i."ServerIncidentId", i."Severity", i."Status"
FROM "Incidents" AS i
WHERE i."Severity" IN ('High', 'Critical') AND i."Status" = 'Pending' AND i."CreatedAt" > now() + INTERVAL '-5 mins'
